(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t){},118:function(e,t){},119:function(e,t){},120:function(e,t,a){e.exports=a(211)},125:function(e,t,a){},138:function(e,t){},144:function(e,t){},146:function(e,t,a){},147:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),s=a.n(r),i=(a(125),a(5)),o=a(6),c=a(8),m=a(7),u=a(9),d=a(20),h=a(40),p=a(15),f=a(30),b=a(57),E=a(19),g={animals:[],actualPage:0,maxPage:0,isEditing:!1,showModal:!1,showLocationModal:!1,selectedLocation:{},selectedAnimal:{},selectedAnimalId:"",selectedLatitude:"",selectedLongitude:"",isUserList:!1,locations:[],locationsLoaded:!1,isMarkerInfo:!1},v={profilePreferences:{},userSelectorValues:{types:[],genres:[]}},O={AnimalSelectorValues:{Breeds:[],Genres:[],Colors:[],Sizes:[],AdoptionStates:[]},ProfileSelectorValues:{Genres:[],Types:[]}},y={animalSelectorValues:{breeds:[],colors:[],sizes:[],genres:[],adoptionStates:[]}},j=Object(f.c)({lostAnimals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOST_ANIMALS":return Object(E.a)({},e,{animals:t.payload.lostAnimals,maxPage:t.payload.totalPages,isUserList:!1});case"NEXT_PAGE":var a=e.actualPage;return Object(E.a)({},e,{actualPage:a+1});case"PREVIOUS_PAGE":var n=e.actualPage;return Object(E.a)({},e,{actualPage:n-1});case"SHOW_MODAL":return Object(E.a)({},e,{showModal:!0,selectedAnimal:t.payload});case"CLOSE_MODAL":case"SAVE_LOCATION":return Object(E.a)({},e,{showModal:!1});case"SET_LOCATION":return Object(E.a)({},e,{selectedLongitude:t.payload.longitude,selectedLatitude:t.payload.latitude});case"GET_USER_ANIMALS":return Object(E.a)({},e,{animals:t.payload.lostAnimals,maxPage:0,isUserList:!0});case"GET_ANIMAL_LOCATIONS":return Object(E.a)({},e,{locations:t.payload.locations,locationsLoaded:!0});case"SET_SELECTED_LOCATION":return Object(E.a)({},e,{selectedLocation:t.payload});case"GET_LOST_AREA":return Object(E.a)({},e,{animals:t.payload.animals});case"SET_MARKER_INFO":return Object(E.a)({},e,{isMarkerInfo:!0});case"SET_ANIMAL":return Object(E.a)({},e,{selectedAnimal:t.payload});case"RESET_ANIMAL":return Object(E.a)({},e,{selectedAnimal:{}});case"DELETE_LOST":return Object(E.a)({},e,{animals:t.payload.lostAnimals});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PREFERENCES":return console.log("reducer"),Object(E.a)({},e,{profilePreferences:t.payload});case"SET_PREFERENCES":return Object(E.a)({},e,{profilePreferences:t.payload});case"GET_USER_ENUMS":return Object(E.a)({},e,{userSelectorValues:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ANIMAL_ENUMS":return Object(E.a)({},e,{AnimalSelectorValues:t.payload});case"GET_PROFILE_ENUMS":return Object(E.a)({},e,{ProfileSelectorValues:t.payload});default:return e}},animal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ANIMAL_ENUMS":return console.log("reducer"),Object(E.a)({},e,{animalSelectorValues:t.payload});default:return e}}}),k=[b.a],C=Object(f.e)(j,{},Object(f.d)(f.a.apply(void 0,k),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),N=a(11),S=a(1),A=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};function F(e){return A({url:"http://localhost:8080/profile/getInfo",method:"POST",body:JSON.stringify(e)})}function I(e){return A({url:"http://localhost:8080/profile/register",method:"POST",body:JSON.stringify(e)})}function L(e){return A({url:"http://localhost:8080/profile/login",method:"POST",body:JSON.stringify(e)})}function T(e){return A({url:"http://localhost:8080/profile/setLocation",method:"POST",body:JSON.stringify(e)})}function D(e){return A({url:"http://localhost:8080/profile/update ",method:"POST",body:JSON.stringify(e)})}var w={login:L,logout:function(){sessionStorage.removeItem("serviceToken"),sessionStorage.removeItem("shelterName"),sessionStorage.removeItem("userId")},updateUser:D,setLocation:T,register:I},x=a(12),_=a(58),P=a.n(_),M=a(2),z=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})},V=function(e){return function(t){console.log("actions"),z({url:"http://localhost:8080/user/preferences?userToken="+e,method:"GET"}).then(function(e){return t({type:"GET_PREFERENCES",payload:e})})}},U=function(){return function(e){z({url:"http://localhost:8080/profile/enums",method:"GET"}).then(function(t){return e({type:"GET_USER_ENUMS",payload:t})})}},B=(a(78),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={userName:"",password:"",redirect:!1},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){null!=sessionStorage.getItem("serviceToken")&&this.props.history.replace("/List")}},{key:"handleChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,l=a.name;this.setState(Object(N.a)({},l,n),function(){console.log(t.state)})}},{key:"handleSubmit",value:function(e){var t=this;console.log("The form was submitted with the following data:"),e.preventDefault(),L({username:this.state.userName,password:this.state.password}).then(function(e){sessionStorage.setItem("serviceToken",e.token),sessionStorage.setItem("userId",e.id),x.ToastsStore.success("Logueado Correctamente"),t.props.getPreferences(e.token),t.props.history.replace("/List")}).catch(function(e){console.log(e),x.ToastsStore.error(e.globalError)}),console.log(this.state)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"App__Aside"}," ",l.a.createElement("img",{src:P.a,alt:"loading..."}),l.a.createElement("p",{className:"MainText"}," AdoptApp ")),l.a.createElement("div",{className:"App__Form"},l.a.createElement("div",{className:"FormCenter"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("div",{className:"PageSwitcher"},l.a.createElement(d.c,{to:"/",activeClassName:"PageSwitcher__Item--Active",className:"PageSwitcher__Item"},l.a.createElement(M.a,{id:"form.button.access"})),l.a.createElement(d.c,{exact:!0,to:"/signUp",activeClassName:"PageSwitcher__Item--Active",className:"PageSwitcher__Item"},l.a.createElement(M.a,{id:"form.button.register"}))),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"FormFields"},l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"userName"},l.a.createElement(M.a,{id:"form.label.user"})),l.a.createElement("input",{type:"text",id:"userName",className:"FormField__Input",name:"userName",value:this.state.userName,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"password"},l.a.createElement(M.a,{id:"form.label.password"})),l.a.createElement("input",{type:"password",id:"password",className:"FormField__Input",name:"password",value:this.state.password,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("button",{type:"submit",className:"FormField__Button mr-20"},l.a.createElement(M.a,{id:"form.button.access"}))," ",l.a.createElement(d.b,{to:"/signUp",className:"FormField__Link"},l.a.createElement(M.a,{id:"form.link.createAccount"}))),l.a.createElement(d.b,{to:"/List",className:"FormField__Link"},l.a.createElement(M.a,{id:"form.button.anonimous"}))))))}}]),t}(n.Component)),R=Object(p.b)(function(e){return{profilePreferences:e.user.profilePreferences}},{getPreferences:V})(B),G=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={name:"",email:"",address:"",lastname1:"",lastname2:"",genre:""},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSubmitUser()}},{key:"render",value:function(){return console.log("render"),l.a.createElement("div",{className:"FormCenter"},l.a.createElement("div",{className:"UserInfoSectionTittle"},l.a.createElement("h4",null,l.a.createElement(M.a,{id:"form.tittle.personalInfo"}))),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"name"},l.a.createElement(M.a,{id:"form.label.name"})),l.a.createElement("input",{type:"text",id:"name",className:"FormField__Input",placeholder:"Introducir nombre Asociaci\xf3n",name:"name",defaultValue:this.state.name,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"lastname"},l.a.createElement(M.a,{id:"form.label.lastname"})),l.a.createElement("input",{type:"text",id:"lastname",className:"FormField__Input",placeholder:"Introducir apellido1",name:"lastname",defaultValue:this.state.lastname,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"lastname2"},l.a.createElement(M.a,{id:"form.label.lastname2"})),l.a.createElement("input",{type:"text",id:"lastname2",className:"FormField__Input",placeholder:"Introducir apellido2",name:"lastname2",defaultValue:this.state.address,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"email"},l.a.createElement(M.a,{id:"form.label.email"})),l.a.createElement("input",{type:"email",id:"email",className:"FormField__Input",placeholder:"Introducir Correo Elect\xf3nico",name:"email",defaultValue:this.state.email,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"genre"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement("select",{id:"genre",className:"FormField__Input",name:"genre",defaultValue:this.state.genre,onChange:this.handleChange,required:!0},this.props.enumValues.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement("div",{className:"FormField"}),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"address"},l.a.createElement(M.a,{id:"form.label.address"})),l.a.createElement("input",{type:"text",id:"address",className:"FormField__Input",placeholder:"Introducir direcci\xf3n",name:"address",defaultValue:this.state.address,onChange:this.handleChange,required:!0})))}}]),t}(n.Component),q=Object(p.b)(function(e){return console.log(e),{enumValues:e.user.userSelectorValues}},{})(G),K=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={userName:"",password:"",type:null,name:null,phoneNumber:null,email:null,address:null,description:null},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){return l.a.createElement("div",{className:"FormCenter"},l.a.createElement("div",{className:"UserInfoSectionTittle"},l.a.createElement("h4",null,l.a.createElement(M.a,{id:"form.tittle.shelterInfo"}))),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"name"},l.a.createElement(M.a,{id:"form.label.name"})),l.a.createElement("input",{type:"text",id:"name",className:"FormField__Input",placeholder:"Introducir nombre Asociaci\xf3n",name:"name",defaultValue:this.state.name,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"type"},l.a.createElement(M.a,{id:"form.label.type"})),l.a.createElement("select",{id:"type",className:"FormField__Input",name:"type",defaultValue:this.state.type,onChange:this.handleChange,required:!0},this.props.enumValues.types.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"address"},l.a.createElement(M.a,{id:"form.label.address"})),l.a.createElement("input",{type:"text",id:"address",className:"FormField__Input",placeholder:"Introducir Direcci\xf3n",name:"address",defaultValue:this.state.address,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"email"},l.a.createElement(M.a,{id:"form.label.email"})),l.a.createElement("input",{type:"email",id:"email",className:"FormField__Input",placeholder:"Introducir Correo Elect\xf3nico",name:"email",defaultValue:this.state.email,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"phoneNumber"},l.a.createElement(M.a,{id:"form.label.phoneNumber"})),l.a.createElement("input",{type:"number",id:"phoneNumber",className:"FormField__Input",placeholder:"Introducir numero de tel\xe9fono",name:"phoneNumber",defaultValue:this.state.phoneNumber,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"description"},"Breve descripci\xf3n"),l.a.createElement("input",{type:"text",id:"description",className:"FormField__Input",placeholder:"Introducir descripci\xf3n",name:"description",defaultValue:this.state.description,onChange:this.handleChange,required:!0})))}}]),t}(n.Component),Y=Object(p.b)(function(e){return{enumValues:e.user.userSelectorValues}},{})(K),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={userName:"",password:"",type:null,name:null,phoneNumber:null,email:null,address:null,description:null,lastname:null,lastname2:null,genre:null,isShelter:!1},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmitUser=e.handleSubmitUser.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmitShelter=e.handleSubmitShelter.bind(Object(S.a)(Object(S.a)(e))),e.handleCheck=e.handleCheck.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){null!=sessionStorage.getItem("serviceToken")&&this.props.history.replace("/List"),this.props.getUserEnums()}},{key:"componentDidUpdate",value:function(e,t){console.log("Nuevos prosp"),console.log(this.props),e.enumValues!==this.props.enumValues&&this.setState({genre:this.props.enumValues.genres[0],type:this.props.enumValues.types[0]})}},{key:"componentWillReceiveProps",value:function(e){console.log("props recibidas:"),console.log(e)}},{key:"handleChange",value:function(e){var t=this,a=e.target;console.log(a.value),this.setState(Object(N.a)({},a.name,a.value),function(){console.log(t.state)})}},{key:"handleCheck",value:function(e){var t=this;this.state.isShelter?this.setState({isShelter:!1},function(){console.log(t.state)}):this.setState({isShelter:!0},function(){console.log(t.state)})}},{key:"handleSubmit",value:function(e){this.state.isShelter?this.handleSubmitShelter(e):this.handleSubmitUser(e)}},{key:"handleSubmitUser",value:function(e){var t=this;e.preventDefault(),I({username:this.state.userName,password:this.state.password,userDTO:{name:this.state.name,lastname:this.state.lastname,lastname2:this.state.lastname2,email:this.state.email,address:this.state.address,genre:this.state.genre}}).then(function(e){t.props.history.replace("/addLocation"),sessionStorage.setItem("serviceToken",e.token),sessionStorage.setItem("userId",e.id),x.ToastsStore.success("Registrado Correctamente")}).catch(function(e){x.ToastsStore.error(e.globalError)})}},{key:"handleSubmitShelter",value:function(e){var t=this;e.preventDefault(),I({username:this.state.userName,password:this.state.password,shelterDTO:{type:this.state.type,name:this.state.name,phoneNumber:this.state.phoneNumber,email:this.state.email,address:this.state.address,description:this.state.description}}).then(function(e){sessionStorage.setItem("serviceToken",e.token),sessionStorage.setItem("userId",e.id),x.ToastsStore.success("Registrado Correctamente"),t.props.getPreferences(e.token),t.props.history.replace("/addLocation")}).catch(function(e){x.ToastsStore.error(e.globalError)})}},{key:"renderInfoForm",value:function(){return this.state.isShelter?l.a.createElement(Y,{userName:this.state.userName,password:this.state.password,handleChange:this.handleChange}):l.a.createElement(q,{userName:this.state.userName,password:this.state.password,handleChange:this.handleChange})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"App__Aside"}," ",l.a.createElement("img",{src:P.a,alt:"loading..."}),l.a.createElement("p",{className:"MainText"},"AdoptApp")),l.a.createElement("div",{className:"App__Form"},l.a.createElement("div",{className:"FormCenter"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("div",{className:"PageSwitcher"},l.a.createElement(d.c,{to:"/",className:"PageSwitcher__Item"},l.a.createElement(M.a,{id:"form.button.access"})),l.a.createElement(d.c,{exact:!0,to:"/signUp",activeClassName:"PageSwitcher__Item--Active",className:"PageSwitcher__Item"},l.a.createElement(M.a,{id:"form.button.register"}))),l.a.createElement("div",{className:"FormTitle"},l.a.createElement(d.c,{to:"/",className:"FormTitle__Link"},l.a.createElement(M.a,{id:"form.button.access"}))," o ",l.a.createElement(d.c,{exact:!0,to:"/signUp",activeClassName:"FormTitle__Link--Active",className:"FormTitle__Link"},l.a.createElement(M.a,{id:"form.button.register"}))),l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(t){return e.handleSubmit(t)},className:"FormFields"},l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"userName"},l.a.createElement(M.a,{id:"form.label.user"})),l.a.createElement("input",{type:"text",id:"userName",className:"FormField__Input",placeholder:"Introducir usuario",name:"userName",defaultValue:this.state.userName,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"password"},l.a.createElement(M.a,{id:"form.label.password"})),l.a.createElement("input",{type:"password",id:"password",className:"FormField__Input",placeholder:"Introducir Contrase\xf1a",name:"password",defaultValue:this.state.password,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"password"},l.a.createElement(M.a,{id:"form.label.shelter"})),l.a.createElement("input",{type:"checkbox",id:"isShelter",defaultChecked:this.state.isShelter,name:"isShelter",onChange:this.handleCheck})),l.a.createElement("div",{className:"infoSectionDecoration"},l.a.createElement("div",{className:"UserInfoSection"},this.renderInfoForm())),l.a.createElement("div",{className:"FormField"},l.a.createElement("button",{type:"submit",className:"FormField__Button mr-20"},l.a.createElement(M.a,{id:"form.button.register"}))," ",l.a.createElement(d.b,{to:"/",className:"FormField__Link"},l.a.createElement(M.a,{id:"form.link.haveAccount"})))))))}}]),t}(n.Component),H=Object(p.b)(function(e){return{enumValues:e.user.userSelectorValues}},{getPreferences:V,getUserEnums:U})(J),W=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};function X(e){return W({url:"http://localhost:8080/animal/getInfo",method:"POST",body:JSON.stringify(e)})}function Z(e){return console.log("param en actions : "),console.log(e),W({url:"http://localhost:8080/animal/getAll",method:"POST",body:JSON.stringify(e)})}function Q(e){return W({url:"http://localhost:8080/animal/getTypes?name="+e,method:"GET"})}function $(e){return W({url:"http://localhost:8080/user/addLostAnimal",method:"POST",body:JSON.stringify(e)})}function ee(e){return W({url:"http://localhost:8080/animal/lostAnimalInfo?animalId="+e,method:"GET"})}var te=a(214),ae=a(215),ne=a(216),le=a(217),re=a(218),se=a(219),ie=a(47),oe=a.n(ie),ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={breeds:[],genres:[],colors:[],sizes:[],states:[],animalTypes:[],name:"",genre:"",animalType:"",breed:{},description:"",birthDate:"",healthComment:"",color:"",size:"",trained:"",state:"",image:"",images:[],imageDescription:""},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e.fillTypes=e.fillTypes.bind(Object(S.a)(Object(S.a)(e))),e.setDefaultValues=e.setDefaultValues.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fillTypes(),this.setDefaultValues()}},{key:"handleChange",value:function(e){var t,a=e.target,n="checkbox"===a.type?a.checked:a.value;console.log(n);var l=a.name,r=a.genre,s=a.animalType,i=a.breed,o=a.description,c=a.birthDate,m=a.healthComment,u=a.color,d=a.size,h=a.trained,p=a.state,f=a.image,b=a.imageDescription;this.setState((t={},Object(N.a)(t,l,n),Object(N.a)(t,s,n),Object(N.a)(t,r,n),Object(N.a)(t,i,n),Object(N.a)(t,o,n),Object(N.a)(t,c,n),Object(N.a)(t,m,n),Object(N.a)(t,u,n),Object(N.a)(t,d,n),Object(N.a)(t,h,n),Object(N.a)(t,p,n),Object(N.a)(t,f,n),Object(N.a)(t,b,n),t))}},{key:"fillTypes",value:function(){var e=this;Q().then(function(t){e.setState({animalTypes:t.animalTypes,breeds:t.breeds,genres:t.genres,colors:t.colors,sizes:t.sizes,states:t.adoptionStates},function(){return e.setDefaultValues()})})}},{key:"setDefaultValues",value:function(){this.setState({animalType:this.state.animalTypes[0],breed:this.state.breeds[0],genre:this.state.genres[0],color:this.state.colors[0],size:this.state.sizes[0],state:this.state.states[0]})}},{key:"getFiles",value:function(e){this.setState({images:e})}},{key:"handleSubmit",value:function(e){console.log("The form was submitted with the following data:"),e.preventDefault();var t,a={name:this.state.name,genre:this.state.genre,animalTypeName:this.state.animalType.name,breedName:this.state.breed,description:this.state.description,color:this.state.color,size:this.state.size,image:this.state.image,images:this.state.images,imageDescription:this.state.imageDescription,userToken:sessionStorage.getItem("serviceToken"),adoptionAnimalInfoDTO:{birthDate:this.state.birthDate,health_Comment:this.state.healthComment,trained:this.state.trained,state:this.state.state}};(t=a,W({url:"http://localhost:8080/shelter/animal/add",method:"POST",body:JSON.stringify(t)})).then(function(e){x.ToastsStore.success("Creado Correctamente")}).catch(function(e){x.ToastsStore.error("Algo ha salido mal")})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement("div",{className:"animalFormPage"},l.a.createElement(te.a,{className:"animalForm"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("h2",null,l.a.createElement(M.a,{id:"form.tittle.addAnimal"})),l.a.createElement(ae.a,{onSubmit:this.handleSubmit},l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleName"},l.a.createElement(M.a,{id:"form.label.name"})),l.a.createElement(re.a,{type:"text",name:"name",id:"exampleName",value:this.state.name,onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleEmail"},"Tipo de animal"),l.a.createElement(re.a,{type:"select",name:"animalType",id:"animalType",value:this.state.animalType,onChange:this.handleChange},this.state.animalTypes.map(function(e){return l.a.createElement("option",{key:e.name},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBreed"},l.a.createElement(M.a,{id:"form.label.breed"})),l.a.createElement(re.a,{type:"select",name:"breed",id:"exampleBreed",value:this.state.breed,onChange:this.handleChange},this.state.breeds.map(function(e){return l.a.createElement("option",{key:e.name},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleEmail"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement(re.a,{type:"select",name:"genre",id:"exampleGenre",value:this.state.genre,onChange:this.handleChange},this.state.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleDescription"},l.a.createElement(M.a,{id:"form.label.description"})),l.a.createElement(re.a,{type:"text",name:"description",id:"exampleDescription",value:this.state.description,onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBirthDate"},l.a.createElement(M.a,{id:"form.label.birthDate"})),l.a.createElement(re.a,{type:"date",name:"birthDate",id:"exampleBirthDate",value:this.state.birthDate,onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleHealthComment"},l.a.createElement(M.a,{id:"form.label.healthComment"})),l.a.createElement(re.a,{type:"text",name:"healthComment",id:"exampleHealthComment",value:this.state.healthComment,onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleColor"},l.a.createElement(M.a,{id:"form.label.color"})),l.a.createElement(re.a,{type:"select",name:"color",id:"exampleColor",value:this.state.color,onChange:this.handleChange},this.state.colors.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleSize"},l.a.createElement(M.a,{id:"form.label.size"})),l.a.createElement(re.a,{type:"select",name:"size",id:"exampleSize",value:this.state.size,onChange:this.handleChange},this.state.sizes.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleTrained",className:"trainedLabel"},l.a.createElement(M.a,{id:"form.label.trained"})),l.a.createElement(re.a,{type:"checkbox",name:"trained",id:"exampleTrained",value:this.state.trained,onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleState"},l.a.createElement(M.a,{id:"form.label.adoptionState"})),l.a.createElement(re.a,{type:"select",name:"state",id:"exampleState",value:this.state.state,onChange:this.handleChange},this.state.states.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement("p",null,l.a.createElement(le.a,{for:"exampleImage"},l.a.createElement(M.a,{id:"form.label.image"}))),l.a.createElement(oe.a,{multiple:!0,onDone:this.getFiles.bind(this)})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleImageDescription"},l.a.createElement(M.a,{id:"form.label.imageDescription"})),l.a.createElement(re.a,{type:"text",name:"imageDescription",id:"exampleImageDescription",value:this.state.imageDescription,onChange:this.handleChange})),l.a.createElement(se.a,null,l.a.createElement(M.a,{id:"form.button.add"}))))))}}]),t}(n.Component),me=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={name:"",genre:"",description:"",birthDate:"",healthComment:"",color:"",size:"",trained:"",state:"",image:"",imageDescription:""},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e.showList=e.showList.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Formulario de edicion montado"),this.props.getAnimalEnums(),X({id:this.props.animalId}).then(function(t){e.setState({name:t.name,genre:t.genre,description:t.description,birthDate:t.birthDate,healthComment:t.healthComment,color:t.color,size:t.size,trained:t.trained,state:t.state})}).catch(function(e){x.ToastsStore.error("fallo recuperando info")})}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(N.a)({},n,a))}},{key:"showList",value:function(){this.props.showList()}},{key:"handleSubmit",value:function(e){var t=this;console.log("The form was submitted with the following data:"),e.preventDefault();var a,n={id:this.props.animalId,name:this.state.name,genre:this.state.genre,description:this.state.description,color:this.state.color,size:this.state.size,image:this.state.image,imageDescription:this.state.imageDescription,adoptionAnimalInfoDTO:{birthDate:this.state.birthDate},userToken:sessionStorage.getItem("serviceToken"),health_Comment:this.state.healthComment,trained:this.state.trained,state:this.state.state};(a=n,W({url:"http://localhost:8080/shelter/animal/edit",method:"POST",body:JSON.stringify(a)})).then(function(e){x.ToastsStore.success("Modificado Correctamente"),t.showList()}).catch(function(e){x.ToastsStore.error("Algo ha salido mal")})}},{key:"getFiles",value:function(e){this.setState({image:e[0].base64})}},{key:"render",value:function(){return console.log("render de formulario"),l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(te.a,{className:"animalForm"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("h2",null," ",l.a.createElement(M.a,{id:"form.tittle.editAnimal"})),l.a.createElement(ae.a,{onSubmit:this.handleSubmit},l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleName"},l.a.createElement(M.a,{id:"form.label.name"})),l.a.createElement(re.a,{type:"text",name:"name",id:"exampleName",placeholder:"Nombre de la asociaci\xf3n",value:this.state.name||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBreed"},l.a.createElement(M.a,{id:"form.label.breed"})),l.a.createElement(re.a,{type:"select",name:"breed",id:"exampleBreed",value:this.state.breed,onChange:this.handleChange},this.props.enumValues.breeds.map(function(e){return l.a.createElement("option",{key:e},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleEmail"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement(re.a,{type:"select",name:"genre",id:"exampleGenre",value:this.state.genre,onChange:this.handleChange},this.props.enumValues.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleDescription"},l.a.createElement(M.a,{id:"form.label.description"})),l.a.createElement(re.a,{type:"text",name:"description",id:"exampleDescription",placeholder:"Introducir Descripci\xf3n",value:this.state.description||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBirthDate"},l.a.createElement(M.a,{id:"form.label.birthDate"})),l.a.createElement(re.a,{type:"date",name:"birthDate",id:"exampleBirthDate",placeholder:"Introducir Fecha de nacimiento",value:this.state.birthDate||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleHealthComment"},l.a.createElement(M.a,{id:"form.label.healthComment"})),l.a.createElement(re.a,{type:"text",name:"healthComment",id:"exampleHealthComment",placeholder:"Introducir Comentario sobre salud",value:this.state.healthComment||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleColor"},l.a.createElement(M.a,{id:"form.label.color"})),l.a.createElement(re.a,{type:"select",name:"color",id:"exampleColor",value:this.state.color,onChange:this.handleChange},this.props.enumValues.colors.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleSize"},l.a.createElement(M.a,{id:"form.label.size"})),l.a.createElement(re.a,{type:"select",name:"size",id:"exampleSize",value:this.state.size,onChange:this.handleChange},this.props.enumValues.sizes.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleTrained",className:"trainedLabel"},l.a.createElement(M.a,{id:"form.label.trained"})),l.a.createElement(re.a,{type:"checkbox",name:"trained",id:"exampleTrained",placeholder:"Esta entrenado",value:this.state.trained||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleState"},l.a.createElement(M.a,{id:"form.label.adoptionState"})),l.a.createElement(re.a,{type:"select",name:"state",id:"exampleState",value:this.state.state,onChange:this.handleChange},this.props.enumValues.adoptionStates.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleImage"},l.a.createElement(M.a,{id:"form.label.image"}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleImageDescription"},l.a.createElement(M.a,{id:"form.label.imageDescription"})),l.a.createElement(re.a,{type:"text",name:"imageDescription",id:"exampleImageDescription",placeholder:"Introducir Descripcion de la imagen",value:this.state.imageDescription||"",onChange:this.handleChange})),l.a.createElement(se.a,null,l.a.createElement(M.a,{id:"form.button.updateInfo"})))))}}]),t}(n.Component),ue=Object(p.b)(function(e){return console.log(e),{enumValues:e.animal.animalSelectorValues}},{getAnimalEnums:function(){return function(e){console.log("action"),function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})}({url:"http://localhost:8080/animal/getTypes?name=",method:"GET"}).then(function(t){return e({type:"GET_ANIMAL_ENUMS",payload:t})})}}})(me),de=a(220),he=a(221),pe=a(222),fe=a(223),be=a(224),Ee=a(225),ge=(a(146),function(e){return l.a.createElement("img",{className:"preview",src:e.image,alt:"imagen"})}),ve=(a(147),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).showEditingForm=a.showEditingForm.bind(Object(S.a)(Object(S.a)(a))),a.removeAnimal=a.removeAnimal.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"removeAnimal",value:function(e){console.log("Id del animal en el boton"),console.log(this.props.animalId),this.props.deleteAnimal(this.props.animalId),console.log("Se borra el animal")}},{key:"showEditingForm",value:function(e){this.props.showEditingForm()}},{key:"render",value:function(){return l.a.createElement("div",{className:"buttons"},l.a.createElement(se.a,{onClick:this.showEditingForm},"Editar"),l.a.createElement("br",null),l.a.createElement(se.a,{className:"botonesEditarBorrar",onClick:this.removeAnimal},"Borrar"))}}]),t}(n.Component)),Oe=a(25),ye=a.n(Oe),je=(a(148),a(149),a(108)),ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).showForm=a.showForm.bind(Object(S.a)(Object(S.a)(a))),a.renderButtons=a.renderButtons.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showForm",value:function(){this.props.showEditingForm(this.props.animal.id)}},{key:"renderButtons",value:function(){if(console.log(this.props.showButtons),this.props.showButtons)return[l.a.createElement(ve,{animalId:this.props.animal.id,showEditingForm:this.showForm,deleteAnimal:this.props.deleteAnimal}),l.a.createElement(je.a,{url:"https://adoptapp.com/"+this.props.animal.id,options:{text:" Hay un nuevo animal en nuestra asociaci\xf3n. Se llama "+this.props.animal.name+" y es un "+this.props.animal.breed+". Mas informaci\xf3n en:"}})]}},{key:"render",value:function(){var e=this;return ye.a.locale("es"),console.log(this.props),l.a.createElement(de.a,null,l.a.createElement(he.a,null,this.props.animal.name),l.a.createElement(pe.a,{className:"cardBody"},l.a.createElement("div",{className:"picture"},l.a.createElement(ge,{image:this.props.animal.image})),l.a.createElement("div",{className:"texts"},l.a.createElement(fe.a,null,l.a.createElement(M.a,{id:"form.label.genre"})," : ",this.props.animal.genre," "),l.a.createElement(fe.a,null,l.a.createElement(M.a,{id:"form.label.age"})," : ",ye()(this.props.animal.birthDate).fromNow(!0)),l.a.createElement(fe.a,null,l.a.createElement(M.a,{id:"form.label.breed"})," : ",this.props.animal.breed.name," "),l.a.createElement(be.a,null,l.a.createElement(M.a,{id:"form.label.description"})," : ",this.props.animal.description)),l.a.createElement("div",null,this.renderButtons())),l.a.createElement(Ee.a,null,l.a.createElement(se.a,{onClick:function(){return e.props.showInfo(e.props.animal.id)}},l.a.createElement(M.a,{id:"form.button.moreInfo"}))))}}]),t}(n.Component),Ce=(a(150),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).showForm=a.showForm.bind(Object(S.a)(Object(S.a)(a))),a.formatDate=a.formatDate.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"formatDate",value:function(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(e)}},{key:"showForm",value:function(e){console.log("id:"+e),this.props.showEditingForm(e)}},{key:"render",value:function(){var e=this;return console.log(this.props),l.a.createElement("div",null,console.log(this.props.showButtons),l.a.createElement(St,null),l.a.createElement("div",{className:"Main"},l.a.createElement(te.a,null,l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("div",null,this.props.animales.map(function(t){return l.a.createElement(ke,{classname:"card",showEditingForm:e.showForm,animal:t,key:t.name,deleteAnimal:e.props.deleteAnimal,showButtons:e.props.showButtons,showInfo:e.props.showInfo})})))))}}]),t}(n.Component)),Ne=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};function Se(e){return Ne({url:"http://localhost:8080/shelter/list",method:"POST",body:JSON.stringify(e)})}a(79);var Ae=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={AnimalType:null,breed:null,genre:null,color:null,size:null,animalTypes:[],breeds:[],genres:[],colors:[],sizes:[]},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleFilter=e.handleFilter.bind(Object(S.a)(Object(S.a)(e))),e.fillTypes=e.fillTypes.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fillTypes()}},{key:"fillTypes",value:function(){var e=this;Q(this.state.type).then(function(t){e.setState({animalTypes:t.animalTypes,breeds:t.breeds,genres:t.genres,colors:t.colors,sizes:t.sizes,states:t.adoptionStates})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value;console.log("Algo ha cambiado"+a),this.setState(Object(N.a)({},t.name,a))}},{key:"handleFilter",value:function(){var e={animalType:this.state.animalType,breed:this.state.breed,genre:this.state.genre,color:this.state.color,size:this.state.size};"Todos"==e.animalType&&(e.animalType=null),"Todos"==e.breed&&(e.breed=null),"Todos"==e.genre&&(e.genre=null),"Todos"==e.color&&(e.color=null),"Todos"==e.size&&(e.size=null),this.props.handleFilter(e)}},{key:"render",value:function(){return l.a.createElement("div",{className:"filterContainer"},l.a.createElement("h5",null,"Filtrar por:"),l.a.createElement(le.a,{for:"animalType",className:"animalType"},"Tipo de animal:"),l.a.createElement(re.a,{type:"select",name:"animalType",id:"animalType",value:this.state.breed,onChange:this.handleChange,className:"filterInput"},l.a.createElement("option",null,"Todos"),this.state.animalTypes.map(function(e){return l.a.createElement("option",{key:e.name},e.name)})),l.a.createElement(le.a,{for:"breed",className:"filterLabel"},"Raza:"),l.a.createElement(re.a,{type:"select",name:"breed",id:"breed",value:this.state.breed,onChange:this.handleChange,className:"filterInput"},l.a.createElement("option",null,"Todos"),this.state.breeds.map(function(e){return l.a.createElement("option",{key:e.name},e.name)})),l.a.createElement(le.a,{for:"genre",className:"filterLabel"},"Genero:"),l.a.createElement(re.a,{type:"select",name:"genre",id:"genre",value:this.state.genre,onChange:this.handleChange,className:"filterInput"},l.a.createElement("option",null,"Todos"),this.state.genres.map(function(e){return l.a.createElement("option",{key:e},e)})),l.a.createElement(le.a,{for:"color",className:"filterLabel"},"Color:"),l.a.createElement(re.a,{type:"select",name:"color",id:"color",value:this.state.color,onChange:this.handleChange},l.a.createElement("option",null,"Todos"),this.state.colors.map(function(e){return l.a.createElement("option",{key:e},e)})),l.a.createElement(le.a,{for:"size",className:"filterLabel"},"Tama\xf1o:"),l.a.createElement(re.a,{type:"select",name:"size",id:"size",value:this.state.size,onChange:this.handleChange,className:"filterInput"},l.a.createElement("option",null,"Todos"),this.state.sizes.map(function(e){return l.a.createElement("option",{key:e},e)})),l.a.createElement(se.a,{className:"filterButton",onClick:this.handleFilter},"Filtrar"))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this))).state={animales:[],actualPage:0,totalPages:0,filter:{breed:null,genre:null,size:null,color:null}},a.showInfo=a.showInfo.bind(Object(S.a)(Object(S.a)(a))),a.renderButtons=a.renderButtons.bind(Object(S.a)(Object(S.a)(a))),a.nextPage=a.nextPage.bind(Object(S.a)(Object(S.a)(a))),a.previousPage=a.previousPage.bind(Object(S.a)(Object(S.a)(a))),a.getAnimals=a.getAnimals.bind(Object(S.a)(Object(S.a)(a))),a.handleFilter=a.handleFilter.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.shelterId?(console.log("con id"),this.getAnimalsWithId(this.props.match.params.shelterId)):(console.log("sin id"),this.getAnimals())}},{key:"getAnimals",value:function(){var e=this,t={userToken:sessionStorage.getItem("serviceToken"),page:this.state.actualPage,filter:this.state.filter};console.log("GetAnimals con parametros : "),console.log(t),Z(t).then(function(t){e.setState({animales:t.adoptionAnimals,totalPages:t.totalPages},function(){return console.log(e.state)})}).catch(function(e){console.log(e)})}},{key:"getAnimalsWithId",value:function(e){var t=this,a={page:this.state.actualPage,shelterId:e,filter:this.state.filter};console.log("GetAnimals con parametros : "),console.log(a),Se(a).then(function(e){t.setState({animales:e.adoptionAnimals,totalPages:e.totalPages},function(){return console.log(t.state)})}).catch(function(e){console.log(e)})}},{key:"previousPage",value:function(e){var t=this;console.log("previous"),console.log(e),this.setState({actualPage:e-1},function(){return t.getAnimals()})}},{key:"nextPage",value:function(e){var t=this;console.log("next"),console.log(e),this.setState({actualPage:e+1},function(){return t.getAnimals()})}},{key:"renderButtons",value:function(){var e=this;return this.state.actualPage>0&&this.state.actualPage<this.state.totalPages?[l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:function(){return e.previousPage(e.state.actualPage)}},"Anterior")),l.a.createElement("div",{className:"nextButton"},l.a.createElement(se.a,{onClick:function(){return e.nextPage(e.state.actualPage)}},"Siguiente"))]:this.state.actualPage>0?l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:function(){return e.previousPage(e.state.actualPage)}},"Anterior")):this.state.actualPage<this.state.totalPages?l.a.createElement("div",{className:"nextButton"},l.a.createElement(se.a,{onClick:function(){return e.nextPage(e.state.actualPage)}},"Siguiente")):void 0}},{key:"showInfo",value:function(e){this.props.history.replace("/adoption/"+e)}},{key:"handleFilter",value:function(e){var t=this;this.setState({filter:e});var a={userToken:sessionStorage.getItem("serviceToken"),page:this.state.actualPage,filter:e};console.log("GetAnimals con parametros : "),console.log(a),Z(a).then(function(e){t.setState({animales:e.adoptionAnimals,totalPages:e.totalPages},function(){return console.log(t.state)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ae,{handleFilter:this.handleFilter}),l.a.createElement(Ce,{animales:this.state.animales,edit:this.editAnimal,showButtons:!1,showInfo:this.showInfo}),this.renderButtons())}}]),t}(n.Component),Ie=a(35),Le=a.n(Ie),Te=(a(38),function(e){var t=e.color,a=e.name;return l.a.createElement("div",null,l.a.createElement("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:a}),l.a.createElement("div",{className:"pulse"}))}),De=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._onClick=function(e){e.x,e.y;var t=e.lat,n=e.lng;e.event;a.setState({selectedLatitude:t,selectedLongitude:n},a.setParentLocation(t,n))},a.state={selectedLatitude:"",selectedLongitude:"",center:{lat:42.09989087544122,lng:-77.03967669057192}},a.setParentLocation=a.setParentLocation.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"setMapPointer",value:function(e,t){this.setState({selectedLatitude:e,selectedLongitude:t})}},{key:"setCenter",value:function(e,t){}},{key:"setParentLocation",value:function(e,t){this.props.setParentLocationState(e,t)}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"50vh",width:"100%"}},l.a.createElement(Le.a,{onClick:this._onClick,bootstrapURLKeys:{key:"AIzaSyAREV4WoFuo_aAjetmOHXmr9ulKepuYKRo"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},l.a.createElement(Te,{lat:this.state.selectedLatitude,lng:this.state.selectedLongitude,name:"My Marker"})))}}]),t}(n.Component);De.defaultProps={center:{lat:42.09989087544122,lng:-77.03967669057192},zoom:11};var we=De,xe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={id:"",userName:"",name:"",lastname:"",lastname2:"",genre:"",password:"",email:"",phoneNumber:"",address:"",latitude:"",longitude:""},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e.setLocationState=e.setLocationState.bind(Object(S.a)(Object(S.a)(e))),e.mapComponent=l.a.createRef(),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;F({token:sessionStorage.getItem("serviceToken")}).then(function(t){e.setState({id:t.id,name:t.userDTO.name,userName:t.userName,lastname:t.userDTO.lastname,lastname2:t.userDTO.lastname2,genre:t.userDTO.genre,password:t.password,email:t.userDTO.email,address:t.userDTO.address,latitude:t.latitude,longitude:t.longitude},e.setMapLocation),console.log(t)}).catch(function(e){console.log("Error al recuperar la informaci\xf3n del usuario")}),this.props.getUserEnums()}},{key:"setMapLocation",value:function(){this.mapComponent.current.setMapPointer(this.state.latitude,this.state.longitude)}},{key:"handleChange",value:function(e){var t,a=e.target,n="checkbox"===a.type?a.checked:a.value,l=a.name,r=a.lastname,s=a.lastname2,i=a.genre,o=a.password,c=a.email,m=a.phoneNumber,u=a.adress;this.setState((t={},Object(N.a)(t,l,n),Object(N.a)(t,r,n),Object(N.a)(t,s,n),Object(N.a)(t,i,n),Object(N.a)(t,o,n),Object(N.a)(t,c,n),Object(N.a)(t,m,n),Object(N.a)(t,u,n),t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),D({id:this.state.id,username:this.state.userName,password:this.state.password,token:sessionStorage.getItem("serviceToken"),latitude:this.state.latitude,longitude:this.state.longitude,userDTO:{name:this.state.name,lastname:this.state.lastname,lastname2:this.state.lastname2,genre:this.state.genre,email:this.state.email,address:this.state.address}}).then(function(e){x.ToastsStore.success("Registrado Correctamente")}).catch(function(e){x.ToastsStore.error("Algo ha salido mal")})}},{key:"setLocationState",value:function(e,t){var a=this;this.setState({latitude:e,longitude:t},function(){console.log("Latitud: "+a.state.longitude+" Longitud: "+a.state.longitude)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"editingSectionComplete"},l.a.createElement(St,null),l.a.createElement("div",{className:"userEditSection"},l.a.createElement("div",{className:"LocationPartForm"},l.a.createElement("h3",null,l.a.createElement(M.a,{id:"form.tittle.position"})),l.a.createElement(we,{ref:this.mapComponent,setParentLocationState:this.setLocationState})),l.a.createElement("div",{className:"Simple_Form"},l.a.createElement("div",{className:"FormCenter"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("h3",null,l.a.createElement(M.a,{id:"form.tittle.personalInfo"})," "),l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(t){return e.handleSubmit(t)},className:"FormFields"},l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"name"}," ",l.a.createElement(M.a,{id:"form.label.name"}),"  "),l.a.createElement("input",{type:"text",id:"name",className:"FormField__Input",placeholder:"Introducir nombre completo",name:"name",defaultValue:this.state.name||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"lastname"}," ",l.a.createElement(M.a,{id:"form.label.lastname"})," "),l.a.createElement("input",{type:"text",id:"lastname",className:"FormField__Input",placeholder:"Introducir primer apellido1",name:"lastname",defaultValue:this.state.lastname||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"lastname2"}," ",l.a.createElement(M.a,{id:"form.label.lastname2"}),"  "),l.a.createElement("input",{type:"text",id:"lastname2",className:"FormField__Input",placeholder:"Introducir segundo apellido2",name:"lastname2",defaultValue:this.state.lastname2||"",onChange:this.handleChange})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"genre"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement("select",{name:"genre",id:"genre",className:"FormField__Input",value:this.state.genre||"",onChange:this.handleChange,required:!0},this.props.enumValues.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"password"}," ",l.a.createElement(M.a,{id:"form.label.password"}),"  "),l.a.createElement("input",{type:"password",id:"password",className:"FormField__Input",placeholder:"Introducir Contrase\xf1a",name:"password",value:this.state.password||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"email"}," ",l.a.createElement(M.a,{id:"form.label.email"})," "),l.a.createElement("input",{type:"email",id:"email",className:"FormField__Input",placeholder:"Introducir correo elect\xf3nico",name:"email",value:this.state.email||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"address"}," ",l.a.createElement(M.a,{id:"form.label.address"})),l.a.createElement("input",{type:"address",id:"address",className:"FormField__Input",placeholder:"Introducir direcci\xf3n",name:"address",value:this.state.address||"",onChange:this.handleChange})),l.a.createElement("div",{className:"FormField"},l.a.createElement("button",{type:"submit",className:"FormField__Button mr-20"}," ",l.a.createElement(M.a,{id:"form.button.updateInfo"})," ")," "))))))}}]),t}(n.Component),_e=Object(p.b)(function(e){return{enumValues:e.user.userSelectorValues}},{getUserEnums:U})(xe),Pe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={id:"",userName:"",name:"",type:"",description:"",password:"",email:"",phoneNumber:"",address:"",latitude:"",longitude:""},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e.setLocationState=e.setLocationState.bind(Object(S.a)(Object(S.a)(e))),e.mapComponent=l.a.createRef(),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return Ne({url:"http://localhost:8080/profile/getInfo",method:"POST",body:JSON.stringify(e)})})({token:sessionStorage.getItem("serviceToken")}).then(function(t){e.setState({id:t.id,name:t.shelterDTO.name,userName:t.userName,type:t.shelterDTO.type,description:t.shelterDTO.description,password:t.password,email:t.shelterDTO.email,phoneNumber:t.shelterDTO.phoneNumber,address:t.shelterDTO.address,latitude:t.latitude,longitude:t.longitude},e.setMapLocation)}).catch(function(e){console.log("Error al recuperar la informaci\xf3n del usuario")}),this.props.getUserEnums()}},{key:"setMapLocation",value:function(){this.mapComponent.current.setMapPointer(this.state.latitude,this.state.longitude)}},{key:"handleChange",value:function(e){var t,a=e.target,n="checkbox"===a.type?a.checked:a.value,l=a.name,r=a.type,s=a.description,i=a.password,o=a.email,c=a.phoneNumber,m=a.adress;this.setState((t={},Object(N.a)(t,l,n),Object(N.a)(t,r,n),Object(N.a)(t,s,n),Object(N.a)(t,i,n),Object(N.a)(t,o,n),Object(N.a)(t,c,n),Object(N.a)(t,m,n),t))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t,a={id:this.state.id,username:this.state.userName,password:this.state.password,token:sessionStorage.getItem("serviceToken"),latitude:this.state.latitude,longitude:this.state.longitude,shelterDTO:{name:this.state.name,type:this.state.type,description:this.state.description,email:this.state.email,phoneNumber:this.state.phoneNumber,address:this.state.address}};(t=a,Ne({url:"http://localhost:8080/profile/update ",method:"POST",body:JSON.stringify(t)})).then(function(e){x.ToastsStore.success("Registrado Correctamente")}).catch(function(e){x.ToastsStore.error("Algo ha salido mal")})}},{key:"setLocationState",value:function(e,t){var a=this;this.setState({latitude:e,longitude:t},function(){console.log("Latitud: "+a.state.longitude+" Longitud: "+a.state.longitude)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"editingSectionComplete"},l.a.createElement(St,null),l.a.createElement("div",{className:"userEditSection"},l.a.createElement("div",{className:"LocationPartForm"},l.a.createElement("h3",null,l.a.createElement(M.a,{id:"form.tittle.position"})),l.a.createElement(we,{ref:this.mapComponent,setParentLocationState:this.setLocationState})),l.a.createElement("div",{className:"Simple_Form"},l.a.createElement("div",{className:"FormCenter"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("h3",null,l.a.createElement(M.a,{id:"form.tittle.personalInfo"})," "),l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(t){return e.handleSubmit(t)},className:"FormFields"},l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"name"}," ",l.a.createElement(M.a,{id:"form.label.name"}),"  "),l.a.createElement("input",{type:"text",id:"name",className:"FormField__Input",placeholder:"Introducir nombre completo",name:"name",defaultValue:this.state.name||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"type"},l.a.createElement(M.a,{id:"form.label.type"})),l.a.createElement("select",{id:"type",className:"FormField__Input",name:"type",defaultValue:this.state.type,onChange:this.handleChange,required:!0},this.props.enumValues.types.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"lastname2"}," ",l.a.createElement(M.a,{id:"form.label.description"}),"  "),l.a.createElement("input",{type:"text",id:"description",className:"FormField__Input",placeholder:"Introducir descripci\xf3n",name:"description",defaultValue:this.state.description||"",onChange:this.handleChange})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"password"}," ",l.a.createElement(M.a,{id:"form.label.password"}),"  "),l.a.createElement("input",{type:"password",id:"password",className:"FormField__Input",placeholder:"Introducir Contrase\xf1a",name:"password",value:this.state.password||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"email"}," ",l.a.createElement(M.a,{id:"form.label.email"})," "),l.a.createElement("input",{type:"email",id:"email",className:"FormField__Input",placeholder:"Introducir correo elect\xf3nico",name:"email",value:this.state.email||"",onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"phoneNumber"}," ",l.a.createElement(M.a,{id:"form.label.phoneNumber"})," "),l.a.createElement("input",{type:"number",id:"phoneNumber",className:"FormField__Input",placeholder:"Introducir numero de telefono",name:"phoneNumber",value:this.state.phoneNumber||"",onChange:this.handleChange})),l.a.createElement("div",{className:"FormField"},l.a.createElement("label",{className:"FormField__Label",htmlFor:"address"}," ",l.a.createElement(M.a,{id:"form.label.address"})),l.a.createElement("input",{type:"address",id:"address",className:"FormField__Input",placeholder:"Introducir direcci\xf3n",name:"address",value:this.state.address||"",onChange:this.handleChange})),l.a.createElement("div",{className:"FormField"},l.a.createElement("button",{type:"submit",className:"FormField__Button mr-20"}," ",l.a.createElement(M.a,{id:"form.button.updateInfo"})," ")," "))))))}}]),t}(n.Component),Me=Object(p.b)(function(e){return{enumValues:e.user.userSelectorValues}},{getUserEnums:U})(Pe);function ze(e){return l.a.createElement(ue,{animalId:e.animalId,showEditingForm:e.showEditingForm,showList:e.showList})}function Ve(e){return console.log(e),l.a.createElement(Ce,{animales:e.animals,deleteAnimal:e.deleteAnimal,showEditingForm:e.showEditingForm,showButtons:!0})}function Ue(e){return console.log("Props del renderList"),console.log(e),e.isEdition?l.a.createElement(ze,{animalId:e.animalId,showEditingForm:e.showEditingForm,showList:e.showList}):l.a.createElement(Ve,{animals:e.animals,deleteAnimal:e.deleteAnimal,showEditingForm:e.showEditingForm})}var Be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={animals:[],shelterName:"",isEditing:!1,editingAnimalId:"",page:0,totalPages:0,actualPage:0,filter:{breed:null,genre:null,color:null,size:null}},a.ShowEditingForm=a.ShowEditingForm.bind(Object(S.a)(Object(S.a)(a))),a.ShowList=a.ShowList.bind(Object(S.a)(Object(S.a)(a))),a.DeleteAnimal=a.DeleteAnimal.bind(Object(S.a)(Object(S.a)(a))),a.previousPage=a.previousPage.bind(Object(S.a)(Object(S.a)(a))),a.nextPage=a.nextPage.bind(Object(S.a)(Object(S.a)(a))),a.handleFilter=a.handleFilter.bind(Object(S.a)(Object(S.a)(a))),a.handleFilter=a.handleFilter.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"previousPage",value:function(e){var t=this;console.log("previous"),console.log(e),this.setState({actualPage:e-1},function(){return t.getAnimalList()})}},{key:"nextPage",value:function(e){var t=this;console.log("next"),console.log(e),this.setState({actualPage:e+1},function(){return t.getAnimalList()})}},{key:"renderButtons",value:function(){var e=this;if(!this.state.isEditing){if(this.state.actualPage>0&&this.state.actualPage<this.state.totalPages)return[l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:function(){return e.previousPage(e.state.actualPage)}},"Anterior")),l.a.createElement("div",{className:"nextButton"},l.a.createElement(se.a,{onClick:function(){return e.nextPage(e.state.actualPage)}},"Siguiente"))];if(this.state.actualPage>0)return l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:function(){return e.previousPage(e.state.actualPage)}},"Anterior"));if(this.state.actualPage<this.state.totalPages)return l.a.createElement("div",{className:"nextButton"},l.a.createElement(se.a,{onClick:function(){return e.nextPage(e.state.actualPage)}},"Siguiente"))}}},{key:"getAnimalList",value:function(){var e=this;Se({token:sessionStorage.getItem("serviceToken"),page:this.state.actualPage,filter:this.state.filter}).then(function(t){null!=t.adoptionAnimals&&e.setState({animals:t.adoptionAnimals,totalPages:t.totalPages}),console.log(e.state),console.log("bien")}).catch(function(e){console.log("error")})}},{key:"componentDidMount",value:function(){this.getAnimalList()}},{key:"DeleteAnimal",value:function(e){var t=this;console.log("user:"+sessionStorage.getItem("serviceToken"));var a,n={userToken:sessionStorage.getItem("serviceToken"),animalId:e};(a=n,Ne({url:"http://localhost:8080/shelter/animal/delete",method:"POST",body:JSON.stringify(a)})).then(function(e){t.getAnimalList()}).catch(function(e){console.log("Algo ha fallado")})}},{key:"ShowEditingForm",value:function(e){console.log("id principal:"+e),console.log("Formulario de edicion"),this.setState({editingAnimalId:e,isEditing:!0})}},{key:"ShowList",value:function(){this.setState({isEditing:!1}),this.getAnimalList()}},{key:"handleFilter",value:function(e){var t=this;this.setState({filter:e},function(){return t.getAnimalList()})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ae,{handleFilter:this.handleFilter}),l.a.createElement(Ue,{isEdition:this.state.isEditing,animals:this.state.animals,showEditingForm:this.ShowEditingForm,animalId:this.state.editingAnimalId,deleteAnimal:this.DeleteAnimal,showList:this.ShowList}),this.renderButtons())}}]),t}(n.Component),Re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={latitude:"",longitude:""},e.setStateLocation=e.setStateLocation.bind(Object(S.a)(Object(S.a)(e))),e.saveLocation=e.saveLocation.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"saveLocation",value:function(){var e=this;console.log("Se guarda la localizaci\xf3n: "+this.state.latitude+this.state.longitude),T({latitude:this.state.latitude,longitude:this.state.longitude,token:sessionStorage.getItem("serviceToken")}).then(function(t){console.log("Todo Correcto guardadando la localizacion"),e.props.history.replace("/List")}).catch(function(e){console.log("Algo fue mal guardado la localizacion")})}},{key:"setStateLocation",value:function(e,t){var a=this;this.setState({latitude:e,longitude:t},function(){console.log("latitude: "+a.state.latitude+"longitude: "+a.state.longitude)})}},{key:"handleSubmit",value:function(e){this.saveLocation(),e.preventDefault()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"addLocationComplete"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.label.addLocation.text"})),l.a.createElement("div",{className:"addLocationMainSection"},l.a.createElement(we,{setParentLocationState:this.setStateLocation}),l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(t){return e.handleSubmit(t)},className:"FormFields"},l.a.createElement("div",{className:"FormField"},l.a.createElement("div",{className:"buttonSection"},l.a.createElement("button",{type:"submit",className:"FormField__Button mr-20"},l.a.createElement(M.a,{id:"form.button.addLocation"})),l.a.createElement(d.b,{to:"/List",className:"FormField__Link"},l.a.createElement(M.a,{id:"form.link.noLocation"})))))))}}]),t}(n.Component),Ge=function(e){var t=e.color,a=e.name;return l.a.createElement("div",{onClick:e.toggleModal},l.a.createElement("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:a}),l.a.createElement("div",{className:"pulse"}))},qe=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})},Ke=function(e){return function(t){qe({url:"http://localhost:8080/animal/searchByDistance",method:"POST",body:JSON.stringify(e)}).then(function(e){return t({type:"GET_LOST_ANIMALS",payload:e})})}},Ye=function(e){return function(t){t({type:"SHOW_MODAL",payload:e})}},Je=function(){return function(e){e({type:"CLOSE_MODAL"})}},He=function(e){return function(t){qe({url:"http://localhost:8080/user/getAnimals?userToken="+e.token+"&page=0",method:"GET"}).then(function(e){return t({type:"GET_USER_ANIMALS",payload:e})})}},We=function(e){return function(t){t({type:"SET_ANIMAL",payload:e})}},Xe=(a(43),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={selectedLatitude:"",selectedLongitude:"",center:{lat:42.09989087544122,lng:-77.03967669057192},markers:[]},a.renderMarkers=a.renderMarkers.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.markers.length&&this.setState({markers:this.props.markers})}},{key:"renderMarkers",value:function(){console.log(this.state.markers),this.state.markers.map(function(e){return l.a.createElement(Ge,{lat:e.latitude,lng:e.longitude,name:"My Marker"})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"bigMapContainer"},l.a.createElement("div",{className:"markersMap"},console.log(this.props),l.a.createElement(Le.a,{bootstrapURLKeys:{key:"AIzaSyAREV4WoFuo_aAjetmOHXmr9ulKepuYKRo"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},this.props.markers.map(function(t){return l.a.createElement(Ge,{toggleModal:function(){return e.props.toggleModal(t),e.props.setAnimal(t)},key:t.id,lat:t.latitude,lng:t.longitude,name:"My Marker"})}))))}}]),t}(n.Component));Xe.defaultProps={center:{lat:42.09989087544122,lng:-77.03967669057192},zoom:11};var Ze=Object(p.b)(function(e){return{selectedAnimal:e.lostAnimals.selectedAnimal}},{setAnimal:We})(Xe),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={markers:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ze,{toggleModal:this.props.toggleModal,markers:this.props.markers}))}}]),t}(n.Component),$e=function(e){return console.log(e),l.a.createElement("div",null,l.a.createElement("div",{className:"modal-wrapper",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",opacity:e.show?"1":"0"}},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h3",null,e.shelter.name),l.a.createElement("span",{className:"close-modal-btn",onClick:e.close},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"modal-data"},l.a.createElement("div",{className:"modal-data-field"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.label.type"}),":")," ",e.shelter.type,"  "),l.a.createElement("div",{className:"modal-data-field"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.label.address"}),":")," ",e.shelter.address,"  "),l.a.createElement("div",{className:"modal-data-field"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.label.email"}),":")," ",e.shelter.email,"  "),l.a.createElement("div",{className:"modal-data-field"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.label.phoneNumber"}),":")," ",e.shelter.phoneNumber,"  "),l.a.createElement("div",{className:"modal-data-field"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.label.distance"})," :")," ",Math.round(e.shelter.distance)," Km  "))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn-cancel",onClick:e.close},l.a.createElement(M.a,{id:"form.button.close"})),l.a.createElement("button",{className:"btn-continue",onClick:function(){return e.showAnimals(e.shelter.id)}},"Ver animales"))))},et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={markers:[],modalIsShowing:!1,shelter:{}},a.toggleModal=a.toggleModal.bind(Object(S.a)(Object(S.a)(a))),a.closeModal=a.closeModal.bind(Object(S.a)(Object(S.a)(a))),a.showAnimals=a.showAnimals.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showAnimals",value:function(e){console.log("Lanza funci\xf3n de showAnimals"),this.props.history.replace("/list/"+e)}},{key:"toggleModal",value:function(e){console.log("ToggleModal"),console.log(e),this.setState({modalIsShowing:!0,shelter:e})}},{key:"closeModal",value:function(){this.setState({modalIsShowing:!1})}},{key:"componentDidMount",value:function(){this.getShelters()}},{key:"getShelters",value:function(){var e,t=this;(e=sessionStorage.getItem("serviceToken"),W({url:"http://localhost:8080/shelter/sheltersDistance?userToken="+e,method:"GET"})).then(function(e){t.setState({markers:e.shelters})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement("div",null,l.a.createElement($e,{className:"modal",show:this.state.modalIsShowing,close:this.closeModal,shelter:this.state.shelter,showAnimals:this.showAnimals})),l.a.createElement("div",{className:"Overlay"},l.a.createElement("div",{className:"shelterMapContainer"},l.a.createElement(Qe,{toggleModal:this.toggleModal,markers:this.state.markers}))))}}]),t}(n.Component),tt=a(226),at=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._onClick=function(e){e.x,e.y;var t=e.lat,n=e.lng;e.event;a.setState({selectedLatitude:t,selectedLongitude:n},a.setParentLocation(t,n))},a.state={selectedLatitude:"",selectedLongitude:""},a.setParentLocation=a.setParentLocation.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"setMapPointer",value:function(e,t){this.setState({selectedLatitude:e,selectedLongitude:t})}},{key:"setParentLocation",value:function(e,t){this.props.setParentLocationState(e,t)}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"50vh",width:"100%"}},l.a.createElement(Le.a,{onClick:this._onClick,bootstrapURLKeys:{key:"AIzaSyAREV4WoFuo_aAjetmOHXmr9ulKepuYKRo"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},l.a.createElement(Ge,{lat:this.state.selectedLatitude,lng:this.state.selectedLongitude,name:"My Marker"})))}}]),t}(n.Component);at.defaultProps={center:{lat:42.09989087544122,lng:-77.03967669057192},zoom:8};var nt=at,lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this))).setParentLocation=a.setParentLocation.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"setParentLocation",value:function(e,t){try{this.props.setParentLocation(e,t)}catch(a){console.log("Funcion para recuperar coodenadas no definida")}}},{key:"render",value:function(){return l.a.createElement("div",{className:"mainPositionSection"},l.a.createElement("div",null,l.a.createElement("h4",null,"A\xf1adir ubicaci\xf3n:")),l.a.createElement(nt,{setParentLocationState:this.setParentLocation}))}}]),t}(n.Component),rt=(a(169),a(87),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={animalTypes:[],breeds:[],genres:[],colors:[],sizes:[],id:null,latitude:"",longitude:"",name:"",breed:"",genre:"",description:"",color:"",size:"",date:"",images:[],imageDescription:"",comment:""},e.fillTypes=e.fillTypes.bind(Object(S.a)(Object(S.a)(e))),e.setPosition=e.setPosition.bind(Object(S.a)(Object(S.a)(e))),e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.setDefaultValues=e.setDefaultValues.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fillTypes(),this.setDefaultValues()}},{key:"fillTypes",value:function(){var e=this;Q().then(function(t){e.setState({animalTypes:t.animalTypes,breeds:t.breeds,genres:t.genres,colors:t.colors,sizes:t.sizes},function(){return e.setDefaultValues()})})}},{key:"setDefaultValues",value:function(){this.setState({animalType:this.state.animalTypes[0],breed:this.state.breeds[0],genre:this.state.genres[0],color:this.state.colors[0],size:this.state.sizes[0]})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value;this.setState(Object(N.a)({},t.name,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={id:this.state.id,name:this.state.name,breedName:this.state.breed.name,genre:this.state.genre,description:this.state.description,color:this.state.color,size:this.state.size,image:this.state.image,images:this.state.images,imageDescription:this.state.imageDescription,lostAnimalInfoDTO:{latitude:this.state.latitude,longitude:this.state.longitude,state:"PERDIDO",dateTime:this.state.date,comment:this.state.comment},userToken:sessionStorage.getItem("serviceToken")};console.log(a),$(a).then(function(e){x.ToastsStore.success("A\xf1adido Correctamente"),t.props.history.replace("/user/animals")}).catch(function(e){console.log(e)})}},{key:"setPosition",value:function(e,t){console.log(e),console.log(t),this.setState({latitude:e,longitude:t})}},{key:"getFiles",value:function(e){this.setState({images:e},console.log(this.state.images))}},{key:"render",value:function(){return console.log("Estado renderizado"),console.log(this.state),l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement("div",{className:"animalFormPage"},l.a.createElement(lt,{className:"positionSection",setParentLocation:this.setPosition}),l.a.createElement(te.a,{className:"animalForm"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("h2",null,l.a.createElement(M.a,{id:"form.tittle.addLostAnimal"})),l.a.createElement(ae.a,{onSubmit:this.handleSubmit},l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleName",className:"formLabel"},l.a.createElement(M.a,{id:"form.label.name"})),l.a.createElement(re.a,{type:"text",name:"name",id:"exampleName",value:this.state.name||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"animalType"},"Tipo de animal"),l.a.createElement(re.a,{type:"select",name:"animalType",id:"animalType",value:this.state.animalType,onChange:this.handleChange},this.state.animalTypes.map(function(e){return l.a.createElement("option",{key:e.name},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBreed"},l.a.createElement(M.a,{id:"form.label.breed"})),l.a.createElement(re.a,{type:"select",name:"breed",id:"exampleBreed",value:this.state.breed,onChange:this.handleChange},this.state.breeds.map(function(e){return l.a.createElement("option",{key:e.name},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleEmail"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement(re.a,{type:"select",name:"genre",id:"exampleGenre",value:this.state.genre,onChange:this.handleChange},this.state.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"description"},l.a.createElement(M.a,{id:"form.label.description"})),l.a.createElement(re.a,{type:"text",name:"description",id:"description",value:this.state.description||"",onChange:this.handleChange}),l.a.createElement(tt.a,null,l.a.createElement(M.a,{id:"form.text.description"}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleColor"},l.a.createElement(M.a,{id:"form.label.color"})),l.a.createElement(re.a,{type:"select",name:"color",id:"exampleColor",value:this.state.color,onChange:this.handleChange},this.state.colors.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleSize"},l.a.createElement(M.a,{id:"form.label.size"})),l.a.createElement(re.a,{type:"select",name:"size",id:"exampleSize",value:this.state.size,onChange:this.handleChange},this.state.sizes.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"date"},l.a.createElement(M.a,{id:"form.label.lostDateTime"})),"\n",l.a.createElement(re.a,{type:"date",name:"date",id:"date",value:this.state.date||"",onChange:this.handleChange}),l.a.createElement(tt.a,null,l.a.createElement(M.a,{id:"form.text.date"}))),l.a.createElement(ne.a,null,l.a.createElement("p",{className:"file64Label"},l.a.createElement(M.a,{id:"form.label.image"})),l.a.createElement(oe.a,{className:"base64Input",multiple:!0,onDone:this.getFiles.bind(this)})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"imageDescription"},l.a.createElement(M.a,{id:"form.label.imageDescription"})),l.a.createElement(re.a,{type:"text",name:"imageDescription",id:"imageDescription",value:this.state.imageDescription||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"comment"},l.a.createElement(M.a,{id:"form.label.comment"})),l.a.createElement(re.a,{type:"textarea",name:"comment",id:"comment",value:this.state.comment||"",onChange:this.handleChange})),l.a.createElement(se.a,null,l.a.createElement(M.a,{id:"form.button.add"}))))))}}]),t}(n.Component)),st=Object(p.b)(function(e){return{animalId:e.lostAnimals.selectedAnimal.id,isUserList:e.lostAnimals.isUserList}},{resetAnimal:function(){return function(e){e({type:"RESET_ANIMAL"})}}})(rt),it=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this))).state={breed:""},a.renderGenre=a.renderGenre.bind(Object(S.a)(Object(S.a)(a))),a.renderFooter=a.renderFooter.bind(Object(S.a)(Object(S.a)(a))),a.locationsClick=a.locationsClick.bind(Object(S.a)(Object(S.a)(a))),a.deleteClick=a.deleteClick.bind(Object(S.a)(Object(S.a)(a))),a.moreInfoClick=a.moreInfoClick.bind(Object(S.a)(Object(S.a)(a))),a.renderDistance=a.renderDistance.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderGenre",value:function(){return console.log(this.props.animal),"MACHO"===this.props.animal.genre?l.a.createElement(M.a,{id:"form.enum.male"}):"FEMIA"===this.props.animal.genre?l.a.createElement(M.a,{id:"form.enum.female"}):void 0}},{key:"locationsClick",value:function(e){var t={animalId:e,token:sessionStorage.getItem("serviceToken")};this.props.getLocations(t),this.props.redirectLocations()}},{key:"editClick",value:function(e){this.props.editAnimal(e),console.log("LostAnimalCard - edit")}},{key:"deleteClick",value:function(e){var t={userToken:sessionStorage.getItem("serviceToken"),animalId:e};this.props.deleteLost(t)}},{key:"moreInfoClick",value:function(e){this.props.showInfo(e)}},{key:"renderFooter",value:function(e){var t=this;return this.props.isUserList?[l.a.createElement(se.a,{onClick:function(){return t.editClick(e)}},"Editar"),l.a.createElement(se.a,{onClick:function(){return t.deleteClick(e)}},"Borrar"),l.a.createElement(se.a,{onClick:function(){return t.locationsClick(e)}},"Localizaciones")]:[l.a.createElement(se.a,{onClick:function(){return t.moreInfoClick(e)}},"Mas Informaci\xf3n"),l.a.createElement(se.a,{onClick:function(){return t.showModal(t.props.animal.id)}},"Localizar")]}},{key:"showModal",value:function(e){this.props.showModal(e)}},{key:"renderDistance",value:function(){if(!this.props.myAnimal)return l.a.createElement(be.a,null,l.a.createElement(M.a,{id:"form.label.distance"})," : ",Math.round(this.props.animal.distance))}},{key:"render",value:function(){return l.a.createElement(de.a,null,l.a.createElement(he.a,null,this.props.animal.name),l.a.createElement(pe.a,{className:"cardBody"},l.a.createElement("div",{className:"picture"},l.a.createElement(ge,{image:this.props.animal.image})),console.log(this.props.animal.breed),l.a.createElement("div",{className:"texts"},l.a.createElement(fe.a,null,l.a.createElement(M.a,{id:"form.label.date"})," : ",ye()(this.props.animal.date).format("DD-MM-YY")),l.a.createElement(fe.a,null,l.a.createElement(M.a,{id:"form.label.genre"})," : ",this.renderGenre()," "),l.a.createElement(fe.a,null,l.a.createElement(M.a,{id:"form.label.breed"})," : ",this.props.animal.breed.name," "),this.renderDistance())),l.a.createElement(Ee.a,null,this.renderFooter(this.props.animal.id)))}}]),t}(n.Component),ot=Object(p.b)(function(e){return{selectedAnimal:e.lostAnimals.selectedAnimal,showModal:e.lostAnimals.showModal,isUserList:e.lostAnimals.isUserList,locations:e.lostAnimals.locations}},{showModal:Ye,getLocations:function(e){return function(t){console.log("actions"),console.log(e),qe({url:"http://localhost:8080/animal/locations?animalId="+e.animalId+"&token="+e.token,method:"GET"}).then(function(e){return t({type:"GET_ANIMAL_LOCATIONS",payload:e})})}},setAnimal:We,deleteLost:function(e){return function(t){qe({url:"http://localhost:8080/user/deleteLost",method:"POST",body:JSON.stringify(e)}).then(function(e){return t({type:"DELETE_LOST",payload:e})})}}})(it),ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this))).renderButtons=a.renderButtons.bind(Object(S.a)(Object(S.a)(a))),a.getAnimals=a.getAnimals.bind(Object(S.a)(Object(S.a)(a))),a.nextPage=a.nextPage.bind(Object(S.a)(Object(S.a)(a))),a.previousPage=a.previousPage.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.actualPage!==this.props.actualPage){var t={userToken:sessionStorage.getItem("serviceToken"),page:e.actualPage};this.props.isUserList?this.props.getUserAnimals(t):this.props.getAnimals(t)}}},{key:"getAnimals",value:function(){var e={userToken:sessionStorage.getItem("serviceToken"),page:this.props.actualPage};this.props.getAnimals(e)}},{key:"nextPage",value:function(){this.props.nextPage()}},{key:"previousPage",value:function(){this.props.previousPage()}},{key:"renderButtons",value:function(){if(0!==this.props.maxPage)return this.props.maxPage===this.props.actualPage?l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:this.previousPage},"Anterior")):0===this.props.actualPage?l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:this.nextPage},"Siguiente")):l.a.createElement("div",{className:"previousNextButtons"},l.a.createElement("div",{className:"previousButton"},l.a.createElement(se.a,{onClick:this.previousPage},"Anterior")),l.a.createElement("div",{className:"nextButton"},l.a.createElement(se.a,{onClick:this.nextPage},"Siguiente")))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(te.a,null,l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("div",null,this.props.lostAnimals.map(function(t){return l.a.createElement(ot,{key:t.id,animal:t,redirectLocations:e.props.redirectLocations,editAnimal:e.props.editAnimal,showInfo:e.props.showInfo,myAnimal:e.props.myAnimal})})),this.renderButtons()))}}]),t}(n.Component),mt=Object(p.b)(function(e){return{lostAnimals:e.lostAnimals.animals,actualPage:e.lostAnimals.actualPage,maxPage:e.lostAnimals.maxPage,isUserList:e.lostAnimals.isUserList}},{getAnimals:Ke,nextPage:function(){return function(e){e({type:"NEXT_PAGE"})}},previousPage:function(){return function(e){e({type:"PREVIOUS_PAGE"})}},getUserAnimals:He})(ct),ut=(a(54),function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"addLocation-modal-container",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",opacity:e.show?"1":"0"}},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h3",null,l.a.createElement(M.a,{id:"form.tittle.addLocation"})),l.a.createElement("span",{className:"close-modal-btn",onClick:e.close},"\xd7")),l.a.createElement("div",{className:"addLocation-modal-body"},l.a.createElement(nt,{setParentLocationState:e.set}),l.a.createElement("div",null,l.a.createElement(ae.a,null,l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleName"},"Comentario"),l.a.createElement(re.a,{type:"text",name:"name",id:"exampleName"})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBirthDate"},"Fecha"),l.a.createElement(re.a,{type:"date",name:"birthDate",id:"exampleBirthDate"}))))),l.a.createElement("div",{className:".addLocation-modal-footer"},l.a.createElement("button",{className:"btn-cancel",onClick:e.close},l.a.createElement(M.a,{id:"form.button.close"})),l.a.createElement("button",{className:"btn-continue",onClick:e.save},"A\xf1adir"))))}),dt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).saveLocation=e.saveLocation.bind(Object(S.a)(Object(S.a)(e))),e.setLocation=e.setLocation.bind(Object(S.a)(Object(S.a)(e))),e.renderModal=e.renderModal.bind(Object(S.a)(Object(S.a)(e))),e.showInfo=e.showInfo.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"saveLocation",value:function(){var e={animalId:this.props.selectedAnimal,token:sessionStorage.getItem("serviceToken"),latitude:this.props.selectedLatitude,longitude:this.props.selectedLongitude};this.props.saveLocation(e)}},{key:"componentDidMount",value:function(){this.getAnimals(),this.props.closeModal()}},{key:"getAnimals",value:function(){var e={userToken:sessionStorage.getItem("serviceToken"),page:this.props.actualPage};this.props.getAnimals(e)}},{key:"setLocation",value:function(e,t){var a={latitude:e,longitude:t};this.props.setLocation(a)}},{key:"showInfo",value:function(e){this.props.history.replace("/lost/"+e)}},{key:"renderModal",value:function(){if(this.props.showModal)return l.a.createElement(ut,{show:(window.scrollTo(0,500),!0),close:this.props.closeModal,save:this.saveLocation,set:this.setLocation})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),this.renderModal(),l.a.createElement("div",{className:this.props.showModal?"overlayActive":"overlayInactive"}),l.a.createElement(mt,{showInfo:this.showInfo}))}}]),t}(n.Component),ht=Object(p.b)(function(e){return{selectedAnimal:e.lostAnimals.selectedAnimal,showModal:e.lostAnimals.showModal,selectedLatitude:e.lostAnimals.selectedLatitude,selectedLongitude:e.lostAnimals.selectedLongitude}},{closeModal:Je,saveLocation:function(e){return function(t){qe({url:"http://localhost:8080/animal/addLocation",method:"POST",body:JSON.stringify(e)}).then(function(){return t({type:"SAVE_LOCATION"})})}},setLocation:function(e){return function(t){t({type:"SET_LOCATION",payload:e})}},getAnimals:Ke})(dt),pt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={isFormShowing:!1,selectedAnimalId:""},e.hideForm=e.hideForm.bind(Object(S.a)(Object(S.a)(e))),e.renderListForm=e.renderListForm.bind(Object(S.a)(Object(S.a)(e))),e.locationsClick=e.locationsClick.bind(Object(S.a)(Object(S.a)(e))),e.renderListForm=e.renderListForm.bind(Object(S.a)(Object(S.a)(e))),e.getAnimals=e.getAnimals.bind(Object(S.a)(Object(S.a)(e))),e.editAnimal=e.editAnimal.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAnimals()}},{key:"getAnimals",value:function(){console.log("montado");var e={token:sessionStorage.getItem("serviceToken")};this.props.getUserAnimals(e)}},{key:"editAnimal",value:function(e){this.props.history.replace("/user/animals/"+e)}},{key:"hideForm",value:function(){this.setState({selectedAnimalId:""},this.getAnimals())}},{key:"locationsClick",value:function(){this.props.history.replace("/animal/locations")}},{key:"renderListForm",value:function(){return""!==this.state.selectedAnimalId?l.a.createElement(st,null):l.a.createElement(mt,{redirectLocations:this.locationsClick,editAnimal:this.editAnimal,myAnimal:!0})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),this.renderListForm())}}]),t}(n.Component),ft=Object(p.b)(function(e){return{lostAnimals:e.lostAnimals.animals,selectedAnimal:e.lostAnimals.selectedAnimal}},{getUserAnimals:He})(pt),bt=function(e){var t=e.color,a=e.name;return l.a.createElement("div",{onClick:e.toggleModal},l.a.createElement("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:a}),l.a.createElement("div",{className:"pulse"}))};var Et=Object(p.b)(function(e){return{location:e.lostAnimals.selectedLocation,isUserList:e.lostAnimals.isUserList,isMarkerInfo:e.lostAnimals.isMarkerInfo,selectedAnimal:e.lostAnimals.selectedAnimal}},{closeModal:Je})(function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"lostAnimal-modal-container",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",opacity:e.show?"1":"0"}},l.a.createElement("div",{className:"lostAnimal-modal-body"},function(e){return e.isMarkerInfo?(console.log(e),l.a.createElement("div",null,l.a.createElement("div",{className:"marker-modal-image"},l.a.createElement(ge,{image:e.selectedAnimal.image})),l.a.createElement("div",{className:"marker-modal-text"},l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement(M.a,{age:!0,id:"form.label.user"})," : ")," ",e.selectedAnimal.userName),l.a.createElement("p",null,l.a.createElement("label",null," ",l.a.createElement(M.a,{id:"form.label.name"})," : ")," ",e.selectedAnimal.name," "),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement(M.a,{id:"form.label.breed"})," : ")," Golden retriever"),l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement(M.a,{id:"form.label.date"})," : ")," ",ye()(e.location.dateTime).format("DD-MM-YY"))))):l.a.createElement("div",{className:"locationInfo"},l.a.createElement("p",null,l.a.createElement("p",{className:"boldText"},l.a.createElement(M.a,{id:"form.label.user"})," : "),e.location.userName," "),l.a.createElement("p",null,l.a.createElement("p",{className:"boldText"},l.a.createElement(M.a,{id:"form.label.comment"})," :"),"Lo he visto al lado del rio"),l.a.createElement("p",null,l.a.createElement("p",{className:"boldText"},l.a.createElement(M.a,{id:"form.label.date"})," : ")," 08-11-19"))}(e)),function(e){return e.isMarkerInfo?(console.log(e),l.a.createElement("div",{className:"lostAnimal-modal-footer"},l.a.createElement("button",{className:"btn btn-danger",onClick:e.closeModal},l.a.createElement(M.a,{id:"form.button.close"})),l.a.createElement("button",{className:"btn btn-primary",onClick:e.closeModal},l.a.createElement(M.a,{id:"form.button.contact"})),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.showInfo(e.selectedAnimal.id)}},l.a.createElement(M.a,{id:"form.button.moreInfo"})))):l.a.createElement("div",{className:"lostAnimal-modal-footer"},l.a.createElement("button",{className:"btn-cancel",onClick:e.closeModal},l.a.createElement(M.a,{id:"form.button.close"})),l.a.createElement("button",{className:"btn-cancel",onClick:e.closeModal},l.a.createElement(M.a,{id:"form.button.contact"})))}(e)))}),gt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={showModal:!1,selectedMarker:""},e.showModal=e.showModal.bind(Object(S.a)(Object(S.a)(e))),e.closeModal=e.closeModal.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showModal",value:function(e){this.props.setSelectedLocation(e),this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"locationsMarkersMap"},l.a.createElement(Et,{show:this.state.showModal,marker:this.state.selectedMarker,close:this.closeModal}),l.a.createElement(Le.a,{bootstrapURLKeys:{key:"AIzaSyAREV4WoFuo_aAjetmOHXmr9ulKepuYKRo"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},this.props.locations.map(function(t){return l.a.createElement(bt,{toggleModal:function(){return e.showModal(t)},key:t.locationId,lat:t.latitude,lng:t.longitude,name:"My Marker"})})))}}]),t}(n.Component);gt.defaultProps={center:{lat:42.09989087544122,lng:-77.03967669057192},zoom:11};var vt=Object(p.b)(function(e){return{locations:e.lostAnimals.locations}},{setSelectedLocation:function(e){return function(t){t({type:"SET_SELECTED_LOCATION",payload:e})}}})(gt),Ot=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log("locations"),console.log(this.props.locations),l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(Et,{show:this.props.showModal}),l.a.createElement(vt,null))}}]),t}(n.Component),yt=Object(p.b)(function(e){return{locations:e.lostAnimals.locations,animal:e.lostAnimals.selectedAnimal,showModal:e.lostAnimals.showLocationModal,locationsLoaded:e.lostAnimals.locationsLoaded}},{})(Ot),jt=a(10),kt=(a(61),a(62),a(63),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1,isAdmin:""},a.toggleCollapse=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState={isOpen:!1}}},{key:"logout",value:function(){w.logout()}},{key:"render",value:function(){return l.a.createElement(jt.g,{className:"bar",dark:!0,expand:"md"},l.a.createElement(jt.h,null,l.a.createElement("strong",{className:"white-text"},l.a.createElement(M.a,{id:"app.name"}))),l.a.createElement(jt.j,{onClick:this.toggleCollapse}),l.a.createElement(jt.a,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},l.a.createElement(jt.i,{left:!0},l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.adoptionAnimals"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/List"},l.a.createElement(M.a,{id:"menu.label.animalList"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/adoptionMap"},l.a.createElement(M.a,{id:"menu.label.shelterMap"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/shelterList"},l.a.createElement(M.a,{id:"menu.label.shelterList"}))))),l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.lostAnimals"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/addLostAnimal"},l.a.createElement(M.a,{id:"menu.label.addLostAnimal"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/lostList"},l.a.createElement(M.a,{id:"menu.label.animalList"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/lostMap"},l.a.createElement(M.a,{id:"menu.label.animalMap"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/user/animals"},l.a.createElement(M.a,{id:"menu.label.myAnimals"}))))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#/chat"},"Chats Activos")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#/notifications"},"Notificaciones")),l.a.createElement(jt.f,null,l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},"Christian")),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/user/update"},l.a.createElement(M.a,{id:"menu.label.personalInfo"}))),l.a.createElement(jt.c,{onClick:this.logout},l.a.createElement("a",{href:"/"},l.a.createElement(M.a,{id:"menu.label.logout"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/user/preferences"},l.a.createElement(M.a,{id:"menu.label.preferences"})))))))))}}]),t}(n.Component)),Ct=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1},a.toggleCollapse=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState={isOpen:!1}}},{key:"logout",value:function(){w.logout()}},{key:"render",value:function(){return l.a.createElement(jt.g,{className:"bar",dark:!0,expand:"md"},l.a.createElement(jt.h,null,l.a.createElement("strong",{className:"white-text"},l.a.createElement(M.a,{id:"app.name"}))),l.a.createElement(jt.j,{onClick:this.toggleCollapse}),l.a.createElement(jt.a,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},l.a.createElement(jt.i,{left:!0},l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.adoptionAnimals"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/List"},l.a.createElement(M.a,{id:"menu.label.animalList"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/adoptionMap"},l.a.createElement(M.a,{id:"menu.label.shelterMap"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/shelterList"},l.a.createElement(M.a,{id:"menu.label.shelterList"}))))),l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.lostAnimals"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/addLostAnimal"},l.a.createElement(M.a,{id:"menu.label.addLostAnimal"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/lostList"},l.a.createElement(M.a,{id:"menu.label.animalList"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/lostMap"},l.a.createElement(M.a,{id:"menu.label.animalMap"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/user/animals"},l.a.createElement(M.a,{id:"menu.label.myAnimals"}))))),l.a.createElement(jt.f,null,l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.shelterAdmin"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/animal/add"},l.a.createElement(M.a,{id:"menu.label.addAnimal"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/shelter"},l.a.createElement(M.a,{id:"menu.label.shelterAnimalList"})))))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#/chat"},"Chats Activos")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#/notifications"},"Notificaciones")),l.a.createElement(jt.f,null,l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},"Animalia")),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/shelter/preferences"},l.a.createElement(M.a,{id:"menu.label.preferences"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/shelter/update"},l.a.createElement(M.a,{id:"menu.label.shelterInfo"}))),l.a.createElement(jt.c,{onClick:this.logout},l.a.createElement("a",{href:"/"},l.a.createElement(M.a,{id:"menu.label.logout"})))))))))}}]),t}(n.Component),Nt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1},a.toggleCollapse=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState={isOpen:!1}}},{key:"render",value:function(){return l.a.createElement(jt.g,{className:"bar",dark:!0,expand:"md"},l.a.createElement(jt.h,null,l.a.createElement("strong",{className:"white-text"},l.a.createElement(M.a,{id:"app.name"}))),l.a.createElement(jt.j,{onClick:this.toggleCollapse}),l.a.createElement(jt.a,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},l.a.createElement(jt.i,{left:!0},l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.adoptionAnimals"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/List"},l.a.createElement(M.a,{id:"menu.label.animalList"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/adoptionMap"},l.a.createElement(M.a,{id:"menu.label.shelterMap"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/shelterList"},l.a.createElement(M.a,{id:"menu.label.shelterList"}))))),l.a.createElement(jt.b,null,l.a.createElement(jt.e,{nav:!0,caret:!0},l.a.createElement("span",{className:"mr-2"},l.a.createElement(M.a,{id:"menu.label.lostAnimals"}))),l.a.createElement(jt.d,null,l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/lostList"},l.a.createElement(M.a,{id:"menu.label.animalList"}))),l.a.createElement(jt.c,null,l.a.createElement("a",{href:"#/lostMap"},l.a.createElement(M.a,{id:"menu.label.animalMap"}))))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#/"}," Acceder")))))}}]),t}(n.Component),St=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={isShelter:!1,isAnonimous:!1},e.showMenu=e.showMenu.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={token:sessionStorage.getItem("serviceToken")};null!==t.token?F(t).then(function(t){null!=t.shelterDTO&&e.setState({isShelter:!0})}):this.setState({isAnonimous:!0})}},{key:"showMenu",value:function(){return this.state.isAnonimous?l.a.createElement(Nt,null):this.state.isShelter?l.a.createElement(Ct,null):l.a.createElement(kt,null)}},{key:"render",value:function(){return this.showMenu()}}]),t}(n.Component),At=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e={token:sessionStorage.getItem("serviceToken")};this.props.setMarkerInfo(),this.props.getLostAnimalsInArea(e),this.showInfo=this.showInfo.bind(this),this.props.closeModal()}},{key:"showInfo",value:function(e){this.props.history.replace("/lost/"+e)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(Et,{show:this.props.show,showInfo:this.showInfo}),l.a.createElement(Qe,{toggleModal:this.props.showModal,markers:this.props.animals}))}}]),t}(n.Component),Ft=Object(p.b)(function(e){return{animals:e.lostAnimals.animals,show:e.lostAnimals.showModal}},{getLostAnimalsInArea:function(e){return function(t){qe({url:"http://localhost:8080/animal/lostAnimalsInArea?token="+e.token,method:"GET"}).then(function(e){return t({type:"GET_LOST_AREA",payload:e})})}},showModal:Ye,setMarkerInfo:function(){return function(e){e({type:"SET_MARKER_INFO"})}},closeModal:Je})(At),It=(a(171),a(112)),Lt=a.n(It),Tt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={breeds:[],genres:[],colors:[],sizes:[],breed:null,genre:null,color:null,size:null,maxAdoptionDistance:"",maxLostDistance:"",preferencesId:"",summary:!0},e.fillTypes=e.fillTypes.bind(Object(S.a)(Object(S.a)(e))),e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e.handleCheck=e.handleCheck.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("montadas Preferencias con props: "),console.log(this.props),this.props.maxLostDistance||(console.log("No hay props"),this.props.getPreferences(sessionStorage.getItem("serviceToken"))),this.setState({breed:this.props.breed,genre:this.props.genre,color:this.props.color,size:this.props.size,summary:this.props.summary,maxAdoptionDistance:this.props.maxAdoptionDistance,maxLostDistance:this.props.maxLostDistance,preferencesId:this.props.preferencesId}),this.fillTypes()}},{key:"componentWillReceiveProps",value:function(e){this.setState({breed:e.breed.name,genre:e.genre,color:e.color,size:e.size,summary:e.summary,maxAdoptionDistance:e.maxAdoptionDistance,maxLostDistance:e.maxLostDistance,preferencesId:e.preferencesId})}},{key:"fillTypes",value:function(){var e=this;Q().then(function(t){console.log(t),e.setState({breeds:t.breeds,genres:t.genres,colors:t.colors,sizes:t.sizes})})}},{key:"handleChange",value:function(e){console.log();var t=e.target,a=t.value;console.log(a),this.setState(Object(N.a)({},t.name,a))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={preferencesId:this.state.preferencesId,breedName:this.state.breed,size:this.state.size,genre:this.state.genre,color:this.state.color,summary:this.state.summary,maxAdoptionDistance:this.state.maxAdoptionDistance,maxLostDistance:this.state.maxLostDistance,userToken:sessionStorage.getItem("serviceToken")};console.log("set"),console.log(t),this.props.setPreferences(t)}},{key:"handleCheck",value:function(e){console.log(e),this.setState({summary:e})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(ae.a,{onSubmit:this.handleSubmit,className:"PreferencesContainer"},l.a.createElement("div",{className:"distancePreferences"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.info.distancePreferences"})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"maxAdoptionDistance",className:"formLabel"},l.a.createElement(M.a,{id:"form.label.adoptionDistance"})),l.a.createElement(re.a,{type:"number",name:"maxAdoptionDistance",id:"maxAdoptionDistance",value:this.state.maxAdoptionDistance||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"lostDistance",className:"formLabel"},l.a.createElement(M.a,{id:"form.label.lostDistance"})),l.a.createElement(re.a,{type:"number",name:"maxLostDistance",id:"lostDistance",value:this.state.maxLostDistance||"",onChange:this.handleChange}))),l.a.createElement("div",{className:"animalPreferences"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.info.animalPreferences"})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBreed"},l.a.createElement(M.a,{id:"form.label.breed"})),l.a.createElement(re.a,{type:"select",name:"breed",id:"exampleBreed",value:this.state.breed||"",onChange:this.handleChange},l.a.createElement("option",{key:"empty"},"Seleccionar raza"),this.state.breeds.map(function(e){return l.a.createElement("option",{key:e.name},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleEmail"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement(re.a,{type:"select",name:"genre",id:"exampleGenre",value:this.state.genre||"",onChange:this.handleChange},l.a.createElement("option",{key:"empty"},"Seleccionar genero"),this.state.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"size"},l.a.createElement(M.a,{id:"form.label.size"})),l.a.createElement(re.a,{type:"select",name:"size",id:"size",value:this.state.size||"",onChange:this.handleChange},l.a.createElement("option",{key:"empty"},"Seleccionar tama\xf1o"),this.state.sizes.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"color"},l.a.createElement(M.a,{id:"form.label.color"})),l.a.createElement(re.a,{type:"select",name:"color",id:"color",value:this.state.color||"",onChange:this.handleChange},l.a.createElement("option",null,"Seleccionar color"),this.state.colors.map(function(e){return l.a.createElement("option",{key:e},e)})))),l.a.createElement("div",{className:"checkSection"},l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"lostDistance",className:"formLabel"},l.a.createElement(M.a,{id:"form.info.summary"})),l.a.createElement(Lt.a,{name:"summary",onChange:this.handleCheck,checked:this.state.summary,className:"react-switch"}))),l.a.createElement(se.a,null,l.a.createElement(M.a,{id:"form.button.edit"}))))}}]),t}(n.Component),Dt=Object(p.b)(function(e){return{maxLostDistance:e.user.profilePreferences.maxLostDistance,maxAdoptionDistance:e.user.profilePreferences.maxAdoptionDistance,breed:e.user.profilePreferences.breed,color:e.user.profilePreferences.color,size:e.user.profilePreferences.size,genre:e.user.profilePreferences.genre,preferencesId:e.user.profilePreferences.preferencesId,summary:e.user.profilePreferences.summary}},{getPreferences:V,setPreferences:function(e){return function(t){console.log("actions"),z({url:"http://localhost:8080/user/preferences",method:"POST",body:JSON.stringify(e)}).then(function(e){return t({type:"SET_PREFERENCES",payload:e})})}}})(Tt),wt=(a(173),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={maxAdoptionDistance:"",maxLostDistance:"",preferencesId:""},e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=sessionStorage.getItem("serviceToken"),Ne({url:"http://localhost:8080/shelter/preferences?userToken="+e,method:"GET"})).then(function(e){console.log(e),t.setState({maxAdoptionDistance:e.maxAdoptionDistance,maxLostDistance:e.maxLostDistance,preferencesId:e.preferencesId})})}},{key:"handleChange",value:function(e){console.log();var t=e.target,a=t.value;console.log(a),this.setState(Object(N.a)({},t.name,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),function(e){Ne({url:"http://localhost:8080/shelter/preferences",method:"POST",body:JSON.stringify(e)})}({preferencesId:this.state.preferencesId,maxAdoptionDistance:this.state.maxAdoptionDistance,maxLostDistance:this.state.maxLostDistance,userToken:sessionStorage.getItem("serviceToken")})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(ae.a,{onSubmit:this.handleSubmit,className:"PreferencesContainer"},l.a.createElement("div",{className:"distancePreferences"},l.a.createElement("p",null,l.a.createElement(M.a,{id:"form.info.distancePreferences"})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"maxAdoptionDistance",className:"formLabel"},l.a.createElement(M.a,{id:"form.label.adoptionDistance"})),l.a.createElement(re.a,{type:"number",name:"maxAdoptionDistance",id:"maxAdoptionDistance",value:this.state.maxAdoptionDistance||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"lostDistance",className:"formLabel"},l.a.createElement(M.a,{id:"form.label.lostDistance"})),l.a.createElement(re.a,{type:"number",name:"maxLostDistance",id:"lostDistance",value:this.state.maxLostDistance||"",onChange:this.handleChange}))),l.a.createElement(se.a,null,l.a.createElement(M.a,{id:"form.button.edit"}))))}}]),t}(n.Component)),xt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"lostAnimalDetailContainer"},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.name"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.name),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.size"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.size)),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.breed"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.breed.name),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.description"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.description)),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.genre"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.genre),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.date"})," : "),l.a.createElement("td",{className:"value"},ye()(this.props.animal.date).format("DD-MM-YY"))),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.color"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.color),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.comment"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.comment)))))}}]),t}(n.Component),_t=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={images:[]},a.keyCount=0,a.getKey=a.getKey.bind(Object(S.a)(Object(S.a)(a))),a.renderImages=a.renderImages.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getKey",value:function(){return this.keyCount++}},{key:"renderImages",value:function(){var e=this;return this.props.images.map(function(t){return l.a.createElement("div",{key:"d"+e.getKey},l.a.createElement("img",{key:"i"+e.getKey,alt:"",src:t.base64,className:"carouselImage"}))})}},{key:"render",value:function(){return l.a.createElement("div",{className:"carouselContainer"},this.renderImages())}}]),t}(n.Component),Pt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={key:0,center:{lat:42.09989087544122,lng:-77.03967669057192},latitude:"",longitude:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"singleMarkerMapContainer"},l.a.createElement("div",{className:"markersMap"},l.a.createElement(Le.a,{bootstrapURLKeys:{key:"AIzaSyAREV4WoFuo_aAjetmOHXmr9ulKepuYKRo"},defaultCenter:this.state.center,defaultZoom:this.props.zoom},l.a.createElement(Ge,{key:this.props.latitude,lat:this.props.latitude,lng:this.props.longitude,name:"My Marker"}))))}}]),t}(n.Component);Pt.defaultProps={center:{lat:42.09989087544122,lng:-77.03967669057192},zoom:11,latitude:"",longitude:""};var Mt=Pt,zt=a(49),Vt=a(113),Ut=a.n(Vt),Bt=a(114),Rt=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};a(210);var Gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onMessageReceive=function(e){console.log(e);var t={authorId:e.authorId,author:e.username,message:e.text};a.setState(function(e){return{messages:[].concat(Object(zt.a)(e.messages),[t])}})},a.sendMessage=function(e,t){var n={userToken:sessionStorage.getItem("serviceToken"),chatId:a.state.chatId,text:t.message,username:t.author,authorId:1};try{return a.clientRef.sendMessage("/app/all",JSON.stringify(n)).then(function(e){}),!0}catch(l){return!1}},a.state={chatId:"",messages:[],currentUser:"",toUser:""},a.getCurrentUserInfo=a.getCurrentUserInfo.bind(Object(S.a)(Object(S.a)(a))),a.returnSocket=a.returnSocket.bind(Object(S.a)(Object(S.a)(a))),a.initializeChat=a.initializeChat.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getCurrentUserInfo",value:function(){var e,t=this,a={token:sessionStorage.getItem("serviceToken")};(e=a,console.log(e),Rt({url:"http://localhost:8080/profile/getInfo",method:"POST",body:JSON.stringify(e)})).then(function(e){t.setState({currentUser:e.username})})}},{key:"componentDidMount",value:function(){this.getCurrentUserInfo(),this.initializeChat()}},{key:"componentWillReceiveProps",value:function(e){e.username&&(console.log("Se ha recibido el username:"+e.username),this.initializeChat())}},{key:"initializeChat",value:function(){var e=this;""!==this.props.username&&function(e){return console.log(e),Rt({url:"http://localhost:8080/chat/start",method:"POST",body:JSON.stringify(e)})}({userToken:sessionStorage.getItem("serviceToken"),username:this.props.username}).then(function(t){if(null!==t.messages){var a=t.messages.map(function(e){return{authorId:e.messageSender.id,author:e.messageSender.username,message:e.text}});e.setState({messages:a,chatId:t.id})}})}},{key:"returnSocket",value:function(){var e=this;if(""!==this.props.username&&""!==this.state.currentUser&&""!==this.state.chatId){var t=window.location.protocol+"//localhost:8080/handler?username="+this.state.chatId;return l.a.createElement(Ut.a,{url:t,topics:["/user/topic/all"],onMessage:this.onMessageReceive,ref:function(t){e.clientRef=t},onConnect:function(){e.setState({clientConnected:!0})},onDisconnect:function(){e.setState({clientConnected:!1})},debug:!1})}}},{key:"returnBox",value:function(){if(""!==this.props.username&&""!==this.state.currentUser)return l.a.createElement(Bt.TalkBox,{topic:this.props.username,currentUserId:1,currentUser:this.state.currentUser,messages:this.state.messages,onSendMessage:this.sendMessage,connected:this.state.clientConnected})}},{key:"render",value:function(){return l.a.createElement("div",{className:"chatSection"},this.returnBox(),this.returnSocket())}}]),t}(n.Component),qt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={animal:{name:"Perdido 1",breed:"Mast\xedn",genre:"Macho",color:"Marr\xf3n",size:"Peque\xf1o",description:"Es majo",date:"10/07/2019",comment:"Se encontr\xf3 al lado del colegio",images:[],latitude:"",longitude:"",ownerUsername:""}},e.contactOnClick=e.contactOnClick.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee(this.props.match.params.animalId).then(function(t){console.log(t),e.setState({animal:{name:t.name,breed:t.lostAnimalInfoDTO.breed,genre:t.genre,color:t.color,size:t.size,description:t.description,date:t.lostAnimalInfoDTO.dateTime,comment:t.lostAnimalInfoDTO.comment,images:t.images,latitude:t.lostAnimalInfoDTO.latitude,longitude:t.lostAnimalInfoDTO.longitude,ownerUsername:t.lostAnimalInfoDTO.userName}},function(){return console.log(e.state)})})}},{key:"contactOnClick",value:function(){console.log("Valores en onClick"),console.log(),this.props.history.replace("/chat/"+this.state.animal.ownerUsername)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,console.log("renderMain"),console.log(this.state),l.a.createElement(St,null),l.a.createElement(_t,{images:this.state.animal.images}),l.a.createElement(Mt,{latitude:this.state.animal.latitude,longitude:this.state.animal.longitude}),l.a.createElement("div",{className:"button"},l.a.createElement(se.a,{onClick:function(){return e.contactOnClick()}},"Contactar")),l.a.createElement(xt,{animal:this.state.animal}))}}]),t}(n.Component),Kt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={breed:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e),e.animal&&this.setState({breed:e.animal.breed.name})}},{key:"render",value:function(){return l.a.createElement("div",{className:"adoptionAnimalDetailContainer"},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.name"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.name),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.size"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.size)),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.breed"})," : "),l.a.createElement("td",{className:"value"},this.state.breed),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.description"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.description)),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.genre"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.genre),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.date"})," : "),l.a.createElement("td",{className:"value"},ye()(this.props.animal.date).format("DD-MM-YY"))),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.color"})," : "),l.a.createElement("td",{className:"value"},this.props.animal.color),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.comment"})," : "),l.a.createElement("td",{className:"value"},"Es muy cari\xf1oso")),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.birthDate"})," : "),l.a.createElement("td",{className:"value"},ye()(this.props.animal.birthDate).format("DD-MM-YY")),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.healthComment"})," : "),l.a.createElement("td",{className:"value"},"Esta muy bien")),l.a.createElement("tr",null,l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.trained"})," : "),l.a.createElement("td",{className:"value"},"Si"),l.a.createElement("td",{className:"label"},l.a.createElement(M.a,{id:"form.label.adoptionTime"})," : "),l.a.createElement("td",{className:"value"},"1 mes")))))}}]),t}(n.Component),Yt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={animal:{images:[]}},e.contactOnClick=e.contactOnClick.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;X({id:this.props.match.params.animalId}).then(function(t){e.setState({animal:t},function(){return console.log("bien")})})}},{key:"contactOnClick",value:function(){console.log(this.state.animal),this.props.history.replace("/chat/"+this.state.animal.ownerUsername)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(_t,{images:this.state.animal.images}),l.a.createElement(Mt,{latitude:this.state.animal.latitude,longitude:this.state.animal.longitude}),l.a.createElement("div",{className:"button"},l.a.createElement(se.a,{onClick:function(){return e.contactOnClick()}},"Contactar")),l.a.createElement(Kt,{animal:this.state.animal}))}}]),t}(n.Component),Jt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement(Gt,{username:this.props.match.params.username}))}}]),t}(n.Component),Ht=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={chats:[]},e.renderChats=e.renderChats.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=sessionStorage.getItem("serviceToken"),Rt({url:"http://localhost:8080/chat/active?token="+e,method:"GET"})).then(function(e){t.setState({chats:e})})}},{key:"onButtonClick",value:function(e){this.props.history.replace("/chat/"+e)}},{key:"renderChats",value:function(){var e=this;return this.state.chats.length>0?(console.log(this.state),l.a.createElement("table",{className:"chatTable"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"chatTableRow"},l.a.createElement("td",{className:"chatTableCell"},l.a.createElement("h5",null,"Usuario")),l.a.createElement("td",{className:"chatTableCell"})),this.state.chats.map(function(t){return l.a.createElement("tr",{className:"chatTableRow",key:t.username},l.a.createElement("td",{className:"chatTableCell"},l.a.createElement("a",null,t.username)),l.a.createElement("td",{className:"chatTableCell"},l.a.createElement(se.a,{onClick:function(){return e.onButtonClick(t.username)}},"Entrar")))})))):l.a.createElement("h4",null,"Sin chats activos")}},{key:"render",value:function(){return console.log(this.state.chats),l.a.createElement("div",{className:"activeChatsSection"},l.a.createElement(St,null),l.a.createElement("h3",null,"Chats Activos"),this.renderChats())}}]),t}(n.Component),Wt=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};var Xt,Zt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={notifications:[]},a.getNotificationsFromUser=a.getNotificationsFromUser.bind(Object(S.a)(Object(S.a)(a))),a.renderNotification=a.renderNotification.bind(Object(S.a)(Object(S.a)(a))),a.onClickAdoptionInfo=a.onClickAdoptionInfo.bind(Object(S.a)(Object(S.a)(a))),a.onClickLostInfo=a.onClickLostInfo.bind(Object(S.a)(Object(S.a)(a))),a.delete=a.delete.bind(Object(S.a)(Object(S.a)(a))),a.renderText=a.renderText.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getNotificationsFromUser()}},{key:"onClickLostInfo",value:function(e){this.props.lostAnimalInfo(e)}},{key:"onClickAdoptionInfo",value:function(e){this.props.adoptionAnimalInfo(e)}},{key:"getNotificationsFromUser",value:function(){var e,t=this;(e=sessionStorage.getItem("serviceToken"),Wt({url:"http://localhost:8080/notification/get?userToken="+e,method:"GET"})).then(function(e){t.setState({notifications:e},function(){return console.log(t.state)})})}},{key:"delete",value:function(e){var t=this;console.log("borrado"),function(e){return console.log("deleteActions"),Wt({url:"http://localhost:8080/notification/delete",method:"POST",body:JSON.stringify(e)})}({userToken:sessionStorage.getItem("serviceToken"),notificationId:e}).then(function(e){t.setState({notifications:e})})}},{key:"renderNotification",value:function(e){var t=this;return"LOST_ADDED"===e.type?l.a.createElement("tr",{key:e.id},l.a.createElement("td",{className:"notificationCell"},l.a.createElement(M.a,{id:"notification.text.lost"})),l.a.createElement("td",{className:"notificationCell"},ye()(e.date).format("DD-MM-YY")),l.a.createElement("td",{className:"notificationCell"},l.a.createElement(se.a,{color:"primary",onClick:function(){return t.onClickLostInfo(e.animal.id_animal)}},l.a.createElement(M.a,{id:"form.button.animal"}))),l.a.createElement("td",{className:"notificationCell"},l.a.createElement(se.a,{onClick:function(){return t.delete(e.id)},color:"danger"},l.a.createElement(M.a,{id:"form.button.notificationDelete"})))):l.a.createElement("tr",{key:e.id},l.a.createElement("td",{className:"notificationCell"},l.a.createElement(M.a,{id:"notification.text.adoption"}),":"),l.a.createElement("td",{className:"notificationCell"},ye()(e.date).format("DD-MM-YY")),l.a.createElement("td",{className:"notificationCell"},l.a.createElement(se.a,{color:"primary",onClick:function(){return t.onClickAdoptionInfo(e.animal.id_animal)}},l.a.createElement(M.a,{id:"form.button.animal"}))),l.a.createElement("td",{className:"notificationCell"},l.a.createElement(se.a,{onClick:function(){return t.delete(e.id)},color:"danger"},l.a.createElement(M.a,{id:"form.button.notificationDelete"}))))}},{key:"renderText",value:function(e){if(console.log(e),0===e.length)return l.a.createElement("h3",null,"Sin Notificaciones")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"notificationSection"},this.renderText(this.state.notifications),l.a.createElement("table",null,l.a.createElement("tbody",null,this.state.notifications.map(function(t){return e.renderNotification(t)}))))}}]),t}(n.Component),Qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).adoptionAnimalInfo=a.adoptionAnimalInfo.bind(Object(S.a)(Object(S.a)(a))),a.lostAnimalInfo=a.lostAnimalInfo.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"adoptionAnimalInfo",value:function(e){this.props.history.replace("/adoption/"+e)}},{key:"lostAnimalInfo",value:function(e){this.props.history.replace("/lost/"+e)}},{key:"render",value:function(){return l.a.createElement("div",{className:"userNotifications Section"},l.a.createElement(St,null),l.a.createElement(Zt,{lostAnimalInfo:this.lostAnimalInfo,adoptionAnimalInfo:this.adoptionAnimalInfo}))}}]),t}(n.Component),$t=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={shelters:[]},a.getShelters=a.getShelters.bind(Object(S.a)(Object(S.a)(a))),a.renderShelter=a.renderShelter.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getShelters()}},{key:"getShelters",value:function(){var e=this;Ne({url:"http://localhost:8080/shelter/shelterList",method:"GET"}).then(function(t){console.log(t),e.setState({shelters:t.shelters},function(){return console.log(e.state)})})}},{key:"renderShelter",value:function(e){var t=this;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,e.name)),l.a.createElement("td",null,l.a.createElement("p",null,e.address)),l.a.createElement("td",null,l.a.createElement(se.a,{onClick:function(){return t.props.showAnimals(e.id)}},"Ver Animales")))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"shelterListSection"},l.a.createElement("table",{className:"shelterTable"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"namesRow"},l.a.createElement("td",null,l.a.createElement("p",null,"Nombre")),l.a.createElement("td",null,l.a.createElement("p",null,"Direcci\xf3n")),l.a.createElement("td",null)),this.state.shelters.map(function(t){return e.renderShelter(t)}))))}}]),t}(n.Component),ea=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).showShelterAnimals=a.showShelterAnimals.bind(Object(S.a)(Object(S.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"showShelterAnimals",value:function(e){this.props.history.replace("/list/"+e)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement($t,{showAnimals:this.showShelterAnimals}))}}]),t}(n.Component),ta=a(74),aa=function(e){var t=e.component,a=Object(ta.a)(e,["component"]);return l.a.createElement(h.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("serviceToken")?l.a.createElement(t,e):l.a.createElement(h.a,{to:{pathname:"/",state:{from:e.location}}})}}))},na=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={breeds:[],genres:[],colors:[],sizes:[],id:null,latitude:"",longitude:"",name:"",breed:"",genre:"",description:"",color:"",size:"",date:"",image:null,imageDescription:"",comment:""},e.fillTypes=e.fillTypes.bind(Object(S.a)(Object(S.a)(e))),e.setPosition=e.setPosition.bind(Object(S.a)(Object(S.a)(e))),e.handleChange=e.handleChange.bind(Object(S.a)(Object(S.a)(e))),e.setDefaultValues=e.setDefaultValues.bind(Object(S.a)(Object(S.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(S.a)(Object(S.a)(e))),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee(this.props.match.params.animalId).then(function(t){console.log("Informaci\xf3n recuperada del animal: "),console.log(t),e.setState({id:t.id,name:t.name,genre:t.genre,breed:t.lostAnimalInfoDTO.breed,description:t.description,color:t.color,size:t.size,imageDescription:t.description,comment:t.lostAnimalInfoDTO.comment,latitude:t.lostAnimalInfoDTO.latitude,longitude:t.lostAnimalInfoDTO.longitude,date:t.lostAnimalInfoDTO.dateTime})}),this.fillTypes(),this.setDefaultValues()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={id:this.state.id,name:this.state.name,breed:this.state.breed,genre:this.state.genre,description:this.state.description,color:this.state.color,size:this.state.size,image:this.state.image,imageDescription:this.state.imageDescription,lostAnimalInfoDTO:{latitude:this.state.latitude,longitude:this.state.longitude,state:"LOST",dateTime:this.state.date,comment:this.state.comment},userToken:sessionStorage.getItem("serviceToken")};console.log(a),$(a).then(function(e){x.ToastsStore.success("A\xf1adido Correctamente"),t.props.history.replace("/user/animals")}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value;this.setState(Object(N.a)({},t.name,a))}},{key:"getFiles",value:function(e){this.setState({image:e[0].base64})}},{key:"renderMenu",value:function(){if(!this.props.isUserList)return l.a.createElement(St,null)}},{key:"setPosition",value:function(e,t){console.log(e),console.log(t),this.setState({latitude:e,longitude:t})}},{key:"fillTypes",value:function(){var e=this;Q().then(function(t){e.setState({breeds:t.breeds,genres:t.genres,colors:t.colors,sizes:t.sizes},function(){return e.setDefaultValues()})})}},{key:"setDefaultValues",value:function(){this.setState({breed:this.state.breeds[0],genre:this.state.genres[0],color:this.state.colors[0],size:this.state.sizes[0]})}},{key:"render",value:function(){return console.log("Estado renderizado"),console.log(this.state),l.a.createElement("div",null,l.a.createElement(St,null),l.a.createElement("div",{className:"animalFormPage"},l.a.createElement(lt,{className:"positionSection",setParentLocation:this.setPosition}),l.a.createElement(te.a,{className:"animalForm"},l.a.createElement(x.ToastsContainer,{store:x.ToastsStore}),l.a.createElement("h2",null,l.a.createElement(M.a,{id:"form.tittle.addLostAnimal"})),l.a.createElement(ae.a,{onSubmit:this.handleSubmit},l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleName",className:"formLabel"},l.a.createElement(M.a,{id:"form.label.name"})),l.a.createElement(re.a,{type:"text",name:"name",id:"exampleName",value:this.state.name||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleBreed"},l.a.createElement(M.a,{id:"form.label.breed"})),l.a.createElement(re.a,{type:"select",name:"breed",id:"exampleBreed",value:this.state.breed,onChange:this.handleChange},this.state.breeds.map(function(e){return l.a.createElement("option",{key:e.name},e.name)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleEmail"},l.a.createElement(M.a,{id:"form.label.genre"})),l.a.createElement(re.a,{type:"select",name:"genre",id:"exampleGenre",value:this.state.genre,onChange:this.handleChange},this.state.genres.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"description"},l.a.createElement(M.a,{id:"form.label.description"})),l.a.createElement(re.a,{type:"text",name:"description",id:"description",value:this.state.description||"",onChange:this.handleChange}),l.a.createElement(tt.a,null,l.a.createElement(M.a,{id:"form.text.description"}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleColor"},l.a.createElement(M.a,{id:"form.label.color"})),l.a.createElement(re.a,{type:"select",name:"color",id:"exampleColor",value:this.state.color,onChange:this.handleChange},this.state.colors.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"exampleSize"},l.a.createElement(M.a,{id:"form.label.size"})),l.a.createElement(re.a,{type:"select",name:"size",id:"exampleSize",value:this.state.size,onChange:this.handleChange},this.state.sizes.map(function(e){return l.a.createElement("option",{key:e},e)}))),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"date"},l.a.createElement(M.a,{id:"form.label.lostDateTime"})),"\n",l.a.createElement(re.a,{type:"date",name:"date",id:"date",value:this.state.date||"",onChange:this.handleChange}),l.a.createElement(tt.a,null,l.a.createElement(M.a,{id:"form.text.date"}))),l.a.createElement(ne.a,null,l.a.createElement("p",{className:"file64Label"},l.a.createElement(M.a,{id:"form.label.image"})),l.a.createElement(oe.a,{className:"base64Input",multiple:!0,onDone:this.getFiles.bind(this)})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"imageDescription"},l.a.createElement(M.a,{id:"form.label.imageDescription"})),l.a.createElement(re.a,{type:"text",name:"imageDescription",id:"imageDescription",value:this.state.imageDescription||"",onChange:this.handleChange})),l.a.createElement(ne.a,null,l.a.createElement(le.a,{for:"comment"},l.a.createElement(M.a,{id:"form.label.comment"})),l.a.createElement(re.a,{type:"textarea",name:"comment",id:"comment",value:this.state.comment||"",onChange:this.handleChange})),l.a.createElement(se.a,null,l.a.createElement(M.a,{id:"form.button.add"}))))))}}]),t}(n.Component),la=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={currentUser:null,isAuthenticated:!1,isLoading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("aplicacion montada"),document.body.style="background: #D8F6F6;"}},{key:"render",value:function(){return l.a.createElement(p.a,{store:C},l.a.createElement(d.a,null,l.a.createElement(h.d,null,l.a.createElement(h.b,{exact:!0,path:"/signUp",component:H}),l.a.createElement(aa,{exact:!0,path:"/shelter/update",component:Me}),l.a.createElement(aa,{exact:!0,path:"/shelter/preferences",component:wt}),l.a.createElement(h.b,{exact:!0,path:"/shelter",component:Be}),l.a.createElement(aa,{exact:!0,path:"/animal/add",component:ce}),l.a.createElement(aa,{exact:!0,path:"/animal/edit",component:ue}),l.a.createElement(h.b,{exact:!0,path:"/",component:R}),l.a.createElement(h.b,{exact:!0,path:"/List",component:Fe}),l.a.createElement(h.b,{exact:!0,path:"/List/:shelterId",component:Fe}),l.a.createElement(aa,{exact:!0,path:"/user/update",component:_e}),l.a.createElement(aa,{preferences:this.props.profilePreferences,exact:!0,path:"/user/preferences",component:Dt}),l.a.createElement(aa,{exact:!0,path:"/addLostAnimal",component:st}),l.a.createElement(aa,{exact:!0,path:"/map",component:we}),l.a.createElement(aa,{exact:!0,path:"/addLocation",component:Re}),l.a.createElement(h.b,{exact:!0,path:"/adoptionMap",component:et}),l.a.createElement(h.b,{exact:!0,path:"/lostList",component:ht}),l.a.createElement(aa,{exact:!0,path:"/user/animals",component:ft}),l.a.createElement(h.b,{exact:!0,path:"/user/animals/:animalId",component:na}),l.a.createElement(aa,{exact:!0,path:"/animal/locations",component:yt}),l.a.createElement(h.b,{exact:!0,path:"/lostMap",component:Ft}),l.a.createElement(h.b,{exact:!0,path:"/lost/:animalId",component:qt}),l.a.createElement(h.b,{exact:!0,path:"/adoption/:animalId",component:Yt}),l.a.createElement(aa,{exact:!0,path:"/chat/:username",component:Jt}),l.a.createElement(aa,{exact:!0,path:"/notifications",component:Qt}),l.a.createElement(aa,{exact:!0,path:"/chat",component:Ht}),l.a.createElement(h.b,{exact:!0,path:"/shelterList",component:ea}))))}}]),t}(l.a.Component),ra=a(115),sa=a.n(ra),ia=a(116),oa=a.n(ia),ca=a(117),ma=a.n(ca),ua=a(118),da=a.n(ua),ha=(Xt={"form.label.name":"Nombre","form.label.genre":"G\xe9nero","form.label.desciption":"Descripci\xf3n","form.label.breed":"Raza","form.label.birthDate":"Fecha de nacimiento","form.label.healthComment":"Comentario sobre salud","form.label.color":"Color","form.label.size":"Tama\xf1o","form.label.trained":"Entrenado","form.label.adoptionState":"Estado de la adopci\xf3n","form.label.image":"Imagen","form.label.imageDescription":"Descripci\xf3n de la imagen","form.tittle.addAnimal":"A\xf1adir Animal","form.button.access":"Acceder","form.button.register":"Registrarse","form.label.user":"Usuario","form.label.password":"Contrase\xf1a","form.link.createAccount":"Crear una cuenta","form.label.shelter":"Asociaci\xf3n","form.tittle.personalInfo":"Informaci\xf3n personal","form.label.lastname":"Apellido1","form.label.lastname2":"Apellido2","form.label.email":"Correo Electr\xf3nico","form.label.address":"Direcci\xf3n","form.link.haveAccount":"Ya tengo cuenta","form.tittle.shelterInfo":"Informaci\xf3n de la asociaci\xf3n","form.label.type":"Tipo","form.label.phoneNumber":"Numero de tel\xe9fono","form.label.description":"Descripci\xf3n","form.button.add":"A\xf1adir","form.label.age":"Edad","form.button.moreInfo":"M\xe1s Informaci\xf3n","form.label.distance":"Distancia(Km)","form.button.close":"Cerrar","form.tittle.position":"Posicion","form.button.updateInfo":"Actualizar Informaci\xf3n","app.name":"AdoptApp","menu.label.adoptionAnimals":"Animales en adopci\xf3n","menu.label.lostAnimals":"Animales perdidos","menu.label.addLostAnimal":"A\xf1adir animal Perdido","menu.label.myAnimals":"Mis animales","menu.label.animalList":"Lista de animales","menu.label.animalMap":"Mapa de animales","menu.label.profile":"Perfil","menu.label.logout":"Cerrar sesi\xf3n","menu.label.personalInfo":"Informaci\xf3n Personal","menu.label.shelterAdmin":"Administraci\xf3n Asociaci\xf3n","menu.label.addAnimal":"A\xf1adir Animal","menu.label.shelterAnimalList":"Listado Animales Asociaci\xf3n","menu.label.shelterInfo":"Informaci\xf3n Asociaci\xf3n","form.label.addLocation.text":"Para una mejor experiencia recomendamos que a\xf1ada su ubicaci\xf3n","form.button.addLocation":"A\xf1adir Localizaci\xf3n","form.link.noLocation":"Continuar sin a\xf1adir","form.tittle.editAnimal":"Editar Animal","form.tittle.addLostAnimal":"Informaci\xf3n del animal perdido","form.label.comment":"Comentario","form.label.lostDateTime":"Fecha perdida","form.text.description":"Descripci\xf3n mas detallada del animal","form.text.date":"Fecha en la que se perdi\xf3 el animal ","form.label.date":"Fecha","form.enum.male":"Macho","form.enum.female":"Femia","form.tittle.addLocation":"Indique la posici\xf3n en la que ha visto al animal: ","form.button.contact":"Contactar","menu.label.preferences":"Preferencias","form.tittle.distancePreferences":"Preferencias distancia","form.label.lostDistance":"Distancia maxima animales perdidos (KM)","form.label.adoptionDistance":"Distancia maxima animales adopcion (KM)","form.tittle.animalPreferences":"Preferencias animales adopci\xf3n","form.button.edit":"Editar","form.field.selectBreed":"Seleccionar una raza","form.field.selectGenre":"Seleccionar un genero","form.field.selectColor":"Seleccionar una color","form.field.selectSize":"Seleccionar un tama\xf1o","form.info.animalPreferences":"A continuaci\xf3n puede indicar informaci\xf3n acerca del animal en adopci\xf3n que este buscando para que se notifique en caso de que se a\xf1adan animales que cumplan los requisitos: ","form.info.distancePreferences":"A continuaci\xf3n puede indicar la distancia m\xe1xima a la que se encontraran los animales resultado de las b\xfasquedas: ","form.info.summary":"Marcar para recibir boletines semanales con los animales en adopcion a\xf1adidos ","form.button.locate":"Localizar","form.button.animal":"Ver animales","form.label.adoptionTime":"Tiempo en adopci\xf3n","notification.text.adoption":"Se ha a\xf1adido un animal en adopci\xf3n que le puede interesar: ","notification.text.lost":"Se ha perdido un animal cerca: "},Object(N.a)(Xt,"form.button.animal","Ver animal"),Object(N.a)(Xt,"form.button.notificationDelete","Borrar notificaci\xf3n"),Object(N.a)(Xt,"menu.label.shelterList","Lista de asociaciones"),Object(N.a)(Xt,"menu.label.shelterMap","Mapa de asociaciones"),Object(N.a)(Xt,"form.button.anonimous","Acceder sin identificarse"),Xt),pa=a(119),fa=a.n(pa),ba={en:da.a,es:ha,gl:fa.a},Ea=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ga(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var va=Object(f.e)(j,Object(f.d)(Object(f.a)(b.a))),Oa=function(){Object(M.c)([].concat(Object(zt.a)(sa.a),Object(zt.a)(oa.a),Object(zt.a)(ma.a)));var e=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"en",t=e.toLowerCase().split(/[_-]+/)[0],a=ba[e]||ba[t]||ba.en;return{locale:e=a===ba.en?"en":e,messages:a}}(),ya=Oa.locale,ja=Oa.messages;s.a.render(l.a.createElement(p.a,{store:va},l.a.createElement(M.b,{locale:ya,messages:ja},l.a.createElement(la,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ea?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ga(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ga(e)})}}()},38:function(e,t,a){},43:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/cat2.ccd409e4.gif"},78:function(e,t,a){},79:function(e,t,a){},87:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.1cd2f12c.chunk.js.map